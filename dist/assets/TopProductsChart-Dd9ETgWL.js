import{u as d,j as t,C as x}from"./index-bOp1r2QL.js";import{M as m,N as p,X as u,Y as h,T as f}from"./CartesianChart-CZ5r4ALg.js";import{B as y,c as g,C as j}from"./BarChart-Dy2tkP_4.js";function k(){const{sales:o,products:l}=d(),c=o.reduce((e,s)=>{const r=s.productId;return e[r]||(e[r]={productId:r,productName:s.productName,totalQuantity:0,totalRevenue:0,totalProfit:0,salesCount:0}),e[r].totalQuantity+=s.quantity||0,e[r].totalRevenue+=s.totalAmount||0,e[r].totalProfit+=s.profit||0,e[r].salesCount+=1,e},{}),a=Object.values(c).sort((e,s)=>s.totalQuantity-e.totalQuantity).slice(0,10).map(e=>{const s=l.find(r=>r.id===e.productId);return{...e,currentStock:s?.currentStock||0,category:s?.category||"Unknown"}}),i=e=>`$${e.toLocaleString()}`,n=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316","#ec4899","#6b7280"];return t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Products"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Best selling products by quantity sold"})]})}),a.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"h-80",children:t.jsx(m,{width:"100%",height:"100%",children:t.jsxs(y,{data:a,margin:{top:20,right:30,left:20,bottom:100},children:[t.jsx(p,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),t.jsx(u,{dataKey:"productName",stroke:"#6b7280",fontSize:11,angle:-45,textAnchor:"end",height:100,interval:0}),t.jsx(h,{stroke:"#6b7280",fontSize:12}),t.jsx(f,{formatter:(e,s)=>s==="totalQuantity"?[e,"Units Sold"]:s==="totalRevenue"?[i(e),"Revenue"]:s==="totalProfit"?[i(e),"Profit"]:[e,s],contentStyle:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px"}}),t.jsx(g,{dataKey:"totalQuantity",radius:[4,4,0,0],children:a.map((e,s)=>t.jsx(j,{fill:n[s%n.length]},`cell-${s}`))})]})})}),t.jsx("div",{className:"mt-6 overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Units Sold"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Left"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((e,s)=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:n[s%n.length]}}),t.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["#",s+1]})]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.productName}),t.jsx("div",{className:"text-sm text-gray-500",children:e.category})]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:e.totalQuantity}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i(e.totalRevenue)}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:i(e.totalProfit)}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e.currentStock>10?"bg-green-100 text-green-800":e.currentStock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[e.currentStock," bags"]})})]},e.productId))})]})})]}):t.jsx("div",{className:"h-80 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(x,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sales Data"}),t.jsx("p",{className:"text-gray-600",children:"No sales recorded yet to show top products."})]})})]})}export{k as default};
