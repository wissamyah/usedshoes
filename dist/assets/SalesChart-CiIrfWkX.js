import{r as s,u as ge,j as d}from"./index-BwFdBzJr.js";import{c as F,a as Q,s as Z,u as ee,b as be,d as Pe,i as _,f as C,L as z,e as V,g as te,h as ae,j as re,k as Ae,l as je,m as Ie,n as Y,r as ne,o as ie,R as De,S as Ee,p as Se,q as Oe,t as se,v as we,w as Ne,x as ke,G as Ce,y as oe,z as Le,A as Te,B as le,C as U,D as Re,J as _e,E as S,F as Ke,H as We,I as Be,K as Fe,M as ze,N as Ve,X as $e,Y as Ge,T as Me}from"./CartesianChart-B-6YGOZP.js";import{L as Xe}from"./Legend-CgaB6tjr.js";function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},K.apply(null,arguments)}var ce=e=>{var{cx:t,cy:r,r:a,className:n}=e,i=F("recharts-dot",n);return t===+t&&r===+r&&a===+a?s.createElement("circle",K({},Z(e),Q(e),{className:i,cx:t,cy:r,r:a})):null};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(a){Ye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ye(e,t,r){return(t=Ue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ue(e){var t=He(e,"string");return typeof t=="symbol"?t:t+""}function He(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Je=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||t.x==null||t.y==null)return null;var o=J(J({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},C(n,!1)),Q(n)),l;return s.isValidElement(n)?l=s.cloneElement(n,o):typeof n=="function"?l=n(o):l=s.createElement(ce,o),s.createElement(z,{className:"recharts-active-dot"},l)};function qe(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:n}=e,i=ee(be),o=Pe();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return _(l)?null:Je({point:l,childIndex:Number(i),mainColor:r,dataKey:n,activeDot:a})}var ue=(e,t,r,a)=>ae(e,"xAxis",t,a),de=(e,t,r,a)=>re(e,"xAxis",t,a),pe=(e,t,r,a)=>ae(e,"yAxis",r,a),fe=(e,t,r,a)=>re(e,"yAxis",r,a),Qe=V([te,ue,pe,de,fe],(e,t,r,a,n)=>Ie(e,"xAxis")?Y(t,a,!1):Y(r,n,!1)),Ze=(e,t,r,a,n)=>n;function et(e){return e.type==="line"}var tt=V([je,Ze],(e,t)=>e.filter(et).find(r=>r.id===t)),at=V([te,ue,pe,de,fe,tt,Qe,Ae],(e,t,r,a,n,i,o,l)=>{var{chartData:c,dataStartIndex:p,dataEndIndex:f}=l;if(!(i==null||t==null||r==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{dataKey:u,data:v}=i,m;if(v!=null&&v.length>0?m=v:m=c?.slice(p,f+1),m!=null)return jt({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataKey:u,bandSize:o,displayedData:m})}}),rt=["id"],nt=["type","layout","connectNulls","needClip"],it=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(a){st(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function st(e,t,r){return(t=ot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ot(e){var t=lt(e,"string");return typeof t=="symbol"?t:t+""}function lt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $(e,t){if(e==null)return{};var r,a,n=ct(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ct(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},D.apply(null,arguments)}var ut=e=>{var{dataKey:t,name:r,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:se(r,t),payload:e}]};function dt(e){var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:se(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var ve=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function pt(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...r];return a}var ft=(e,t,r)=>{var a=r.reduce((u,v)=>u+v);if(!a)return ve(t,e);for(var n=Math.floor(e/a),i=e%a,o=t-e,l=[],c=0,p=0;c<r.length;p+=r[c],++c)if(p+r[c]>i){l=[...r.slice(0,c),i-p];break}var f=l.length%2===0?[0,o]:[o];return[...pt(r,n),...l,...f].map(u=>"".concat(u,"px")).join(", ")};function vt(e,t){var r;if(s.isValidElement(e))r=s.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=F("recharts-line-dot",typeof e!="boolean"?e.className:"");r=s.createElement(ce,D({},t,{className:a}))}return r}function mt(e,t){return e==null?!1:t?!0:e.length===1}function ht(e){var{clipPathId:t,points:r,props:a}=e,{dot:n,dataKey:i,needClip:o}=a;if(!mt(r,n))return null;var{id:l}=a,c=$(a,rt),p=oe(n),f=Z(c),u=C(n,!0),v=r.map((y,h)=>{var P=b(b(b({key:"dot-".concat(h),r:3},f),u),{},{index:h,cx:y.x,cy:y.y,dataKey:i,value:y.value,payload:y.payload,points:r});return vt(n,P)}),m={clipPath:o?"url(#clipPath-".concat(p?"":"dots-").concat(t,")"):void 0};return s.createElement(z,D({className:"recharts-line-dots",key:"dots"},m),v)}function W(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:n,props:i,showLabels:o}=e,{type:l,layout:c,connectNulls:p,needClip:f}=i,u=$(i,nt),v=b(b({},C(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:a,type:l,layout:c,connectNulls:p,strokeDasharray:n??i.strokeDasharray});return s.createElement(s.Fragment,null,a?.length>1&&s.createElement(Ke,D({},v,{pathRef:r})),s.createElement(ht,{points:a,clipPathId:t,props:i}),o&&We.renderCallByParent(i,a))}function yt(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function xt(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:p,animationDuration:f,animationEasing:u,animateNewValues:v,width:m,height:y,onAnimationEnd:h,onAnimationStart:P}=r,j=n.current,E=Re(r,"recharts-line-"),[x,O]=s.useState(!1),w=s.useCallback(()=>{typeof h=="function"&&h(),O(!1)},[h]),L=s.useCallback(()=>{typeof P=="function"&&P(),O(!0)},[P]),I=yt(a.current),N=i.current;return s.createElement(_e,{begin:p,duration:f,isActive:c,easing:u,onAnimationEnd:w,onAnimationStart:L,key:E},A=>{var T=S(N,I+N,A),R=Math.min(T,I),k;if(l){var he="".concat(l).split(/[,\s]+/gim).map(g=>parseFloat(g));k=ft(R,I,he)}else k=ve(I,R);if(j){var ye=j.length/o.length,G=A===1?o:o.map((g,xe)=>{var M=Math.floor(xe*ye);if(j[M]){var X=j[M];return b(b({},g),{},{x:S(X.x,g.x,A),y:S(X.y,g.y,A)})}return v?b(b({},g),{},{x:S(m*2,g.x,A),y:S(y/2,g.y,A)}):b(b({},g),{},{x:g.x,y:g.y})});return n.current=G,s.createElement(W,{props:r,points:G,clipPathId:t,pathRef:a,showLabels:!x,strokeDasharray:k})}return A>0&&I>0&&(n.current=o,i.current=R),s.createElement(W,{props:r,points:o,clipPathId:t,pathRef:a,showLabels:!x,strokeDasharray:k})})}function gt(e){var{clipPathId:t,props:r}=e,{points:a,isAnimationActive:n}=r,i=s.useRef(null),o=s.useRef(0),l=s.useRef(null),c=i.current;return n&&a&&a.length&&c!==a?s.createElement(xt,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):s.createElement(W,{props:r,points:a,clipPathId:t,pathRef:l,showLabels:!0})}var bt=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:le(e.payload,t)});class Pt extends s.Component{render(){var t,{hide:r,dot:a,points:n,className:i,xAxisId:o,yAxisId:l,top:c,left:p,width:f,height:u,id:v,needClip:m}=this.props;if(r)return null;var y=F("recharts-line",i),h=v,{r:P=3,strokeWidth:j=2}=(t=C(a,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=oe(a),x=P*2+j;return s.createElement(s.Fragment,null,s.createElement(z,{className:y},m&&s.createElement("defs",null,s.createElement(Le,{clipPathId:h,xAxisId:o,yAxisId:l}),!E&&s.createElement("clipPath",{id:"clipPath-dots-".concat(h)},s.createElement("rect",{x:p-x/2,y:c-x/2,width:f+x,height:u+x}))),s.createElement(gt,{props:this.props,clipPathId:h}),s.createElement(Te,{xAxisId:o,yAxisId:l,data:n,dataPointFormatter:bt,errorBarOffset:0},this.props.children)),s.createElement(qe,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var me={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ce.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function At(e){var t=ne(e,me),{activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:p,isAnimationActive:f,label:u,legendType:v,xAxisId:m,yAxisId:y,id:h}=t,P=$(t,it),{needClip:j}=we(m,y),E=Ne(),x=ke(),O=ie(),w=ee(T=>at(T,m,y,O,h));if(x!=="horizontal"&&x!=="vertical"||w==null||E==null)return null;var{height:L,width:I,x:N,y:A}=E;return s.createElement(Pt,D({},P,{id:h,connectNulls:l,dot:c,activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,isAnimationActive:f,hide:p,label:u,legendType:v,xAxisId:m,yAxisId:y,points:w,layout:x,height:L,width:I,left:N,top:A,needClip:j}))}function jt(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((p,f)=>{var u=le(p,o);if(t==="horizontal"){var v=U({axis:r,ticks:n,bandSize:l,entry:p,index:f}),m=_(u)?null:a.scale(u);return{x:v,y:m,value:u,payload:p}}var y=_(u)?null:r.scale(u),h=U({axis:a,ticks:i,bandSize:l,entry:p,index:f});return y==null||h==null?null:{x:y,y:h,value:u,payload:p}}).filter(Boolean)}function B(e){var t=ne(e,me),r=ie();return s.createElement(De,{id:t.id,type:"line"},a=>s.createElement(s.Fragment,null,s.createElement(Ee,{legendPayload:ut(t)}),s.createElement(Se,{fn:dt,args:t}),s.createElement(Oe,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),s.createElement(At,D({},t,{id:a}))))}B.displayName="Line";var It=["axis"],Dt=s.forwardRef((e,t)=>s.createElement(Be,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:It,tooltipPayloadSearcher:Fe,categoricalChartProps:e,ref:t}));function wt(){const{sales:e}=ge(),t=[],r=new Date;for(let n=29;n>=0;n--){const i=new Date(r);i.setDate(i.getDate()-n);const o=i.toISOString().split("T")[0],l=e.filter(f=>f.date===o),c=l.reduce((f,u)=>f+(u.totalAmount||0),0),p=l.reduce((f,u)=>f+(u.profit||0),0);t.push({date:o,displayDate:i.toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:c,profit:p,salesCount:l.length})}const a=n=>`$${n.toLocaleString()}`;return d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[d.jsx("div",{className:"flex items-center justify-between mb-6",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Trend"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Revenue and profit over the last 30 days"})]})}),d.jsx("div",{className:"h-80",children:d.jsx(ze,{width:"100%",height:"100%",children:d.jsxs(Dt,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(Ve,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),d.jsx($e,{dataKey:"displayDate",stroke:"#6b7280",fontSize:12,interval:"preserveStartEnd"}),d.jsx(Ge,{stroke:"#6b7280",fontSize:12,tickFormatter:a}),d.jsx(Me,{formatter:(n,i)=>[a(n),i],labelFormatter:n=>`Date: ${n}`,contentStyle:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px"}}),d.jsx(Xe,{}),d.jsx(B,{type:"monotone",dataKey:"revenue",stroke:"#059669",strokeWidth:3,dot:{fill:"#059669",strokeWidth:2,r:4},name:"Revenue"}),d.jsx(B,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:3},name:"Profit"})]})})}),d.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.reduce((n,i)=>n+i.salesCount,0)}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Sales"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:a(t.reduce((n,i)=>n+i.revenue,0))}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a(t.reduce((n,i)=>n+i.profit,0))}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Profit"})]})]})]})}export{wt as default};
