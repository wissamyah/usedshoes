import{r as l,u as Ae,j as s,C as je}from"./index-BwFdBzJr.js";import{e as x,O as V,P as Ee,Q as Oe,U as I,V as Ne,W as Se,Z as ue,_ as Ce,$ as Te,B as N,a0 as we,g as de,a1 as De,a2 as Ie,a3 as Re,a4 as ke,a5 as Me,a6 as Le,t as me,a7 as _e,r as X,s as pe,R as Ke,a8 as $e,a9 as ve,u as Y,aa as Be,p as Ge,G as We,c as q,L as _,ab as ae,ac as G,ad as z,ae as Fe,af as W,D as Ve,J as ze,ag as Ue,ah as te,b as Xe,ai as Ye,aj as qe,ak as Je,f as re,F as Ze,al as Qe,am as He,an as ea,ao as ne,ap as aa,aq as ta,ar as ra,as as na,at as sa,K as ia,M as la,T as se,N as oa,X as ca,Y as ua}from"./CartesianChart-B-6YGOZP.js";import{C as F,u as da,a as ma,b as pa,S as va,B as fa,c as ga}from"./BarChart-ChhbftUk.js";import{L as ha}from"./Legend-CgaB6tjr.js";var fe=e=>e.graphicalItems.polarItems,ya=x([V,Ee],Oe),J=x([fe,I,ya],Ne),ba=x([J],Se),Z=x([ba,ue],Ce),xa=x([Z,I,J],Te),Pa=x([Z,I,J],(e,a,r)=>r.length>0?e.flatMap(t=>r.flatMap(n=>{var i,c=N(t,(i=a.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):a?.dataKey!=null?e.map(t=>({value:N(t,a.dataKey),errorDomain:[]})):e.map(t=>({value:t,errorDomain:[]}))),ie=()=>{},Aa=x([I,we,ie,Pa,ie,de,V],De),ge=x([I,de,Z,xa,Ie,V,Aa],Re),ja=x([ge,I,ke],Me);x([I,ge,ja,V],Le);function le(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function oe(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?le(Object(r),!0).forEach(function(t){Ea(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ea(e,a,r){return(a=Oa(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Oa(e){var a=Na(e,"string");return typeof a=="symbol"?a:a+""}function Na(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Sa=(e,a)=>a,Q=x([fe,Sa],(e,a)=>e.filter(r=>r.type==="pie").find(r=>r.id===a)),Ca=[],H=(e,a,r)=>r?.length===0?Ca:r,he=x([ue,Q,H],(e,a,r)=>{var{chartData:t}=e;if(a!=null){var n;if(a?.data!=null&&a.data.length>0?n=a.data:n=t,(!n||!n.length)&&r!=null&&(n=r.map(i=>oe(oe({},a.presentationProps),i.props))),n!=null)return n}}),Ta=x([he,Q,H],(e,a,r)=>{if(!(e==null||a==null))return e.map((t,n)=>{var i,c=N(t,a.nameKey,a.name),m;return r!=null&&(i=r[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?m=r[n].props.fill:typeof t=="object"&&t!=null&&"fill"in t?m=t.fill:m=a.fill,{value:me(c,a.dataKey),color:m,payload:t,type:a.legendType}})}),wa=x([he,Q,H,_e],(e,a,r,t)=>{if(!(a==null||e==null))return Xa({offset:t,pieSettings:a,displayedData:e,cells:r})}),Da=["onMouseEnter","onClick","onMouseLeave"],Ia=["id"],Ra=["id"];function ee(e,a){if(e==null)return{};var r,t,n=ka(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ka(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function ce(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function v(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ce(Object(r),!0).forEach(function(t){Ma(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ma(e,a,r){return(a=La(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function La(e){var a=_a(e,"string");return typeof a=="symbol"?a:a+""}function _a(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},S.apply(null,arguments)}function Ka(e){var a=l.useMemo(()=>ve(e.children,F),[e.children]),r=Y(t=>Ta(t,e.id,a));return r==null?null:l.createElement(Be,{legendPayload:r})}function $a(e){var{dataKey:a,nameKey:r,sectors:t,stroke:n,strokeWidth:i,fill:c,name:m,hide:g,tooltipType:f}=e;return{dataDefinedOnItem:t?.map(o=>o.tooltipPayload),positions:t?.map(o=>o.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:c,dataKey:a,nameKey:r,name:me(m,a),hide:g,type:f,color:c,unit:""}}}var Ba=(e,a)=>e>a?"start":e<a?"end":"middle",Ga=(e,a,r)=>typeof a=="function"?a(e):W(a,r,r*.8),Wa=(e,a,r)=>{var{top:t,left:n,width:i,height:c}=a,m=Fe(i,c),g=n+W(e.cx,i,i/2),f=t+W(e.cy,c,c/2),o=W(e.innerRadius,m,0),u=Ga(r,e.outerRadius,m),d=e.maxRadius||Math.sqrt(i*i+c*c)/2;return{cx:g,cy:f,innerRadius:o,outerRadius:u,maxRadius:d}},Fa=(e,a)=>{var r=G(a-e),t=Math.min(Math.abs(a-e),360);return r*t},Va=(e,a)=>{if(l.isValidElement(e))return l.cloneElement(e,a);if(typeof e=="function")return e(a);var r=q("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return l.createElement(Ze,S({},a,{type:"linear",className:r}))},za=(e,a,r)=>{if(l.isValidElement(e))return l.cloneElement(e,a);var t=r;if(typeof e=="function"&&(t=e(a),l.isValidElement(t)))return t;var n=q("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return l.createElement(Qe,S({},a,{alignmentBaseline:"middle",className:n}),t)};function Ua(e){var{sectors:a,props:r,showLabels:t}=e,{label:n,labelLine:i,dataKey:c}=r;if(!t||!n||!a)return null;var m=pe(r),g=re(n,!1),f=re(i,!1),o=typeof n=="object"&&"offsetRadius"in n&&n.offsetRadius||20,u=a.map((d,y)=>{var p=(d.startAngle+d.endAngle)/2,h=z(d.cx,d.cy,d.outerRadius+o,p),A=v(v(v(v({},m),d),{},{stroke:"none"},g),{},{index:y,textAnchor:Ba(h.x,d.cx)},h),C=v(v(v(v({},m),d),{},{fill:"none",stroke:d.fill},f),{},{index:y,points:[z(d.cx,d.cy,d.outerRadius,p),h],key:"line"});return l.createElement(_,{key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(y)},i&&Va(i,C),za(n,A,N(d,c)))});return l.createElement(_,{className:"recharts-pie-labels"},u)}function ye(e){var{sectors:a,activeShape:r,inactiveShape:t,allOtherPieProps:n,showLabels:i}=e,c=Y(Xe),{onMouseEnter:m,onClick:g,onMouseLeave:f}=n,o=ee(n,Da),u=da(m,n.dataKey),d=ma(f),y=pa(g,n.dataKey);return a==null?null:l.createElement(l.Fragment,null,a.map((p,h)=>{if(p?.startAngle===0&&p?.endAngle===0&&a.length!==1)return null;var A=r&&String(h)===c,C=c?t:null,R=A?r:C,E=v(v({},p),{},{stroke:p.stroke,tabIndex:-1,[qe]:h,[Ye]:n.dataKey});return l.createElement(_,S({tabIndex:-1,className:"recharts-pie-sector"},Je(o,p,h),{onMouseEnter:u(p,h),onMouseLeave:d(p,h),onClick:y(p,h),key:"sector-".concat(p?.startAngle,"-").concat(p?.endAngle,"-").concat(p.midAngle,"-").concat(h)}),l.createElement(va,S({option:R,isActive:A,shapeType:"sector"},E)))}),l.createElement(Ua,{sectors:a,props:n,showLabels:i}))}function Xa(e){var a,{pieSettings:r,displayedData:t,cells:n,offset:i}=e,{cornerRadius:c,startAngle:m,endAngle:g,dataKey:f,nameKey:o,tooltipType:u}=r,d=Math.abs(r.minAngle),y=Fa(m,g),p=Math.abs(y),h=t.length<=1?0:(a=r.paddingAngle)!==null&&a!==void 0?a:0,A=t.filter(b=>N(b,f,0)!==0).length,C=(p>=360?A:A-1)*h,R=p-A*d-C,E=t.reduce((b,O)=>{var P=N(O,f,0);return b+(ae(P)?P:0)},0),K;if(E>0){var j;K=t.map((b,O)=>{var P=N(b,f,0),T=N(b,o,O),w=Wa(r,i,b),k=(ae(P)?P:0)/E,D,M=v(v({},b),n&&n[O]&&n[O].props);O?D=j.endAngle+G(y)*h*(P!==0?1:0):D=m;var $=D+G(y)*((P!==0?d:0)+k*R),B=(D+$)/2,L=(w.innerRadius+w.outerRadius)/2,xe=[{name:T,value:P,payload:M,dataKey:f,type:u}],Pe=z(w.cx,w.cy,L,B);return j=v(v(v(v({},r.presentationProps),{},{percent:k,cornerRadius:c,name:T,tooltipPayload:xe,midAngle:B,middleRadius:L,tooltipPosition:Pe},M),w),{},{value:N(b,f),startAngle:D,endAngle:$,payload:M,paddingAngle:G(y)*h}),j})}return K}function Ya(e){var{props:a,previousSectorsRef:r}=e,{sectors:t,isAnimationActive:n,animationBegin:i,animationDuration:c,animationEasing:m,activeShape:g,inactiveShape:f,onAnimationStart:o,onAnimationEnd:u}=a,d=Ve(a,"recharts-pie-"),y=r.current,[p,h]=l.useState(!0),A=l.useCallback(()=>{typeof u=="function"&&u(),h(!1)},[u]),C=l.useCallback(()=>{typeof o=="function"&&o(),h(!0)},[o]);return l.createElement(ze,{begin:i,duration:c,isActive:n,easing:m,onAnimationStart:C,onAnimationEnd:A,key:d},R=>{var E=[],K=t&&t[0],j=K.startAngle;return t.forEach((b,O)=>{var P=y&&y[O],T=O>0?Ue(b,"paddingAngle",0):0;if(P){var w=te(P.endAngle-P.startAngle,b.endAngle-b.startAngle),k=v(v({},b),{},{startAngle:j+T,endAngle:j+w(R)+T});E.push(k),j=k.endAngle}else{var{endAngle:D,startAngle:M}=b,$=te(0,D-M),B=$(R),L=v(v({},b),{},{startAngle:j+T,endAngle:j+B+T});E.push(L),j=L.endAngle}}),r.current=E,l.createElement(_,null,l.createElement(ye,{sectors:E,activeShape:g,inactiveShape:f,allOtherPieProps:a,showLabels:!p}))})}function qa(e){var{sectors:a,isAnimationActive:r,activeShape:t,inactiveShape:n}=e,i=l.useRef(null),c=i.current;return r&&a&&a.length&&(!c||c!==a)?l.createElement(Ya,{props:e,previousSectorsRef:i}):l.createElement(ye,{sectors:a,activeShape:t,inactiveShape:n,allOtherPieProps:e,showLabels:!0})}function Ja(e){var{hide:a,className:r,rootTabIndex:t}=e,n=q("recharts-pie",r);return a?null:l.createElement(_,{tabIndex:t,className:n},l.createElement(qa,e))}var Za={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!We.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Qa(e){var{id:a}=e,r=ee(e,Ia),t=l.useMemo(()=>ve(e.children,F),[e.children]),n=Y(i=>wa(i,a,t));return l.createElement(l.Fragment,null,l.createElement(Ge,{fn:$a,args:v(v({},e),{},{sectors:n})}),l.createElement(Ja,S({},r,{sectors:n})))}function be(e){var a=X(e,Za),{id:r}=a,t=ee(a,Ra),n=pe(t);return l.createElement(Ke,{id:r,type:"pie"},i=>l.createElement(l.Fragment,null,l.createElement($e,{type:"pie",id:i,data:t.data,dataKey:t.dataKey,hide:t.hide,angleAxisId:0,radiusAxisId:0,name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,legendType:t.legendType,fill:t.fill,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,paddingAngle:t.paddingAngle,minAngle:t.minAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,presentationProps:n}),l.createElement(Ka,S({},t,{id:i})),l.createElement(Qa,S({},t,{id:i})),t.children))}be.displayName="Pie";function Ha(e){var a=He();return l.useEffect(()=>{a(ea(e))},[a,e]),null}var et=["width","height","layout"];function U(){return U=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},U.apply(null,arguments)}function at(e,a){if(e==null)return{};var r,t,n=tt(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tt(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var rt={top:5,right:5,bottom:5,left:5},nt={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rt,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},st=l.forwardRef(function(a,r){var t,n=X(a.categoricalChartProps,nt),{width:i,height:c,layout:m}=n,g=at(n,et);if(!ne(i)||!ne(c))return null;var{chartName:f,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=a,y={chartName:f,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return l.createElement(aa,{preloadedState:{options:y},reduxStoreName:(t=n.id)!==null&&t!==void 0?t:f},l.createElement(ta,{chartData:n.data}),l.createElement(ra,{width:i,height:c,layout:m,margin:n.margin}),l.createElement(na,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),l.createElement(Ha,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),l.createElement(sa,U({width:i,height:c},g,{ref:r})))}),it=["item"],lt={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ot=l.forwardRef((e,a)=>{var r=X(e,lt);return l.createElement(st,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:it,tooltipPayloadSearcher:ia,categoricalChartProps:r,ref:a})});function pt(){const{expenses:e}=Ae(),[a,r]=l.useState("pie"),t=new Date().toISOString().substring(0,7),i=e.filter(o=>o.date&&o.date.startsWith(t)).reduce((o,u)=>{const d=u.category||"Miscellaneous";return o[d]=(o[d]||0)+(u.amount||0),o},{}),c=Object.entries(i).map(([o,u])=>({category:o,amount:u,percentage:(u/Object.values(i).reduce((d,y)=>d+y,0)*100).toFixed(1)})).sort((o,u)=>u.amount-o.amount),m=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#06b6d4","#84cc16","#f97316"],g=o=>`$${o.toLocaleString()}`,f=c.reduce((o,u)=>o+u.amount,0);return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Expense Breakdown"}),s.jsx("p",{className:"text-sm text-gray-600",children:"This month's expenses by category"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>r("pie"),className:`px-3 py-1 text-sm rounded ${a==="pie"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Pie Chart"}),s.jsx("button",{onClick:()=>r("bar"),className:`px-3 py-1 text-sm rounded ${a==="bar"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Bar Chart"})]})]}),c.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-80",children:s.jsx(la,{width:"100%",height:"100%",children:a==="pie"?s.jsxs(ot,{children:[s.jsx(be,{data:c,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"amount",label:({category:o,percentage:u})=>`${o}: ${u}%`,labelLine:!1,children:c.map((o,u)=>s.jsx(F,{fill:m[u%m.length]},`cell-${u}`))}),s.jsx(se,{formatter:o=>g(o)}),s.jsx(ha,{})]}):s.jsxs(fa,{data:c,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(oa,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(ca,{dataKey:"category",stroke:"#6b7280",fontSize:12,angle:-45,textAnchor:"end",height:80}),s.jsx(ua,{stroke:"#6b7280",fontSize:12,tickFormatter:g}),s.jsx(se,{formatter:o=>g(o)}),s.jsx(ga,{dataKey:"amount",radius:[4,4,0,0],children:c.map((o,u)=>s.jsx(F,{fill:m[u%m.length]},`cell-${u}`))})]})})}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Category Breakdown"}),s.jsx("div",{className:"space-y-2",children:c.slice(0,4).map((o,u)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:m[u%m.length]}}),s.jsx("span",{className:"text-sm text-gray-600",children:o.category})]}),s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[g(o.amount)," (",o.percentage,"%)"]})]},o.category))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Summary"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Categories:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Expenses:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:g(f)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Largest Category:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[c[0]?.category," (",c[0]?.percentage,"%)"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Average per Category:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:g(f/c.length)})]})]})]})]})]}):s.jsx("div",{className:"h-80 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(je,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Expense Data"}),s.jsx("p",{className:"text-gray-600",children:"No expenses recorded for this month."})]})})]})}export{pt as default};
