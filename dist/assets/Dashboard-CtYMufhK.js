import{c as C,D as w,C as A,P as M,j as e,u as G,r as v,W as q,T as J,a as Q}from"./index-CnsNA1Vq.js";import{f as I}from"./dateFormatter-DEoQwZ0j.js";import{S as j}from"./StatCard-BhXAGQ8R.js";import{T as g}from"./trending-up-Blfmwo1S.js";import X from"./SalesChart-B_jXg8e9.js";import Y from"./ExpenseChart-Bjm6sLJm.js";import Z from"./TopProductsChart-C9ayMTSz.js";import{T as R}from"./trending-down-BR5GL6uH.js";import"./CartesianChart-BI-IIqjX.js";import"./Legend-lG15llNi.js";import"./calendar-Ci1gLRsa.js";import"./chart-pie-ioZsGn-W.js";import"./BarChart-Dn0blM2K.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],te=C("activity",ee);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],re=C("arrow-down-right",se);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ne=C("arrow-up-right",ae);function oe({todaysRevenue:l,monthlyRevenue:o,inventoryValue:d,netProfit:a}){const n=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b||0);return n(l),w,n(o),A,n(d),M,n(a),g,a>=0,a>=0,a>=0,a>=0,e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 mb-6",children:[e.jsx(j,{title:"Today's Sales",value:n(l),subtitle:"Revenue today",icon:w,iconBgColor:"bg-green-100",iconColor:"text-green-600",trend:l>0?"up":null}),e.jsx(j,{title:"This Month",value:n(o),subtitle:"Monthly revenue",icon:A,iconBgColor:"bg-blue-100",iconColor:"text-blue-600"}),e.jsx(j,{title:"Inventory Value",value:n(d),subtitle:"Total stock value",icon:M,iconBgColor:"bg-purple-100",iconColor:"text-purple-600"}),e.jsx(j,{title:"Net Profit",value:n(a),subtitle:"This month",icon:g,iconBgColor:a>=0?"bg-green-100":"bg-red-100",iconColor:a>=0?"text-green-600":"text-red-600",trend:a>0?"up":a<0?"down":null})]})}function ye(){const{products:l,sales:o,expenses:d,containers:a,cashInjections:n=[],withdrawals:b=[]}=G(),[f,B]=v.useState(!1),N=v.useRef(null),[W,$]=v.useState(0),L=l.reduce((t,s)=>{const i=s.costPerKg||s.costPerUnit||0,z=s.bagWeight||25,V=s.currentStock*z;return t+V*i},0),U=new Date().toISOString().split("T")[0],S=new Date().toISOString().substring(0,7),O=o.filter(t=>t.date===U).reduce((t,s)=>t+(s.totalAmount||0),0),m=o.filter(t=>t.date&&t.date.startsWith(S)),u=m.reduce((t,s)=>t+(s.totalAmount||0),0),_=m.reduce((t,s)=>t+(s.profit||0),0),k=d.filter(t=>t.date&&t.date.startsWith(S)),y=k.reduce((t,s)=>t+(s.amount||0),0),F=_-y,c=o.reduce((t,s)=>t+(s.totalAmount||0),0),h=d.reduce((t,s)=>t+(s.amount||0),0),p=o.reduce((t,s)=>t+(s.profit||0),0)-h,H=a.reduce((t,s)=>t+(s.totalCost||0),0),K=n.reduce((t,s)=>t+(s.amount||0),0),D=b.reduce((t,s)=>t+(s.amount||0),0),T=c+K-h-D,E=(()=>{const t={};return o.forEach(s=>{t[s.date]||(t[s.date]={amount:0,count:0,profit:0}),t[s.date].amount+=s.totalAmount||0,t[s.date].count+=1,t[s.date].profit+=s.profit||0}),Object.entries(t).sort(([s],[i])=>i.localeCompare(s)).slice(0,7).map(([s,i])=>({date:s,...i}))})(),P=(()=>{const t={};return d.forEach(s=>{t[s.date]||(t[s.date]={amount:0,count:0}),t[s.date].amount+=s.amount||0,t[s.date].count+=1}),Object.entries(t).sort(([s],[i])=>i.localeCompare(s)).slice(0,7).map(([s,i])=>({date:s,...i}))})(),x=l.filter(t=>t.currentStock<10);v.useEffect(()=>{N.current&&$(N.current.scrollHeight)},[x.length]);const r=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0);return e.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Overview of your business performance"})]}),e.jsx(oe,{todaysRevenue:O,monthlyRevenue:u,inventoryValue:L,netProfit:F}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6 hover:shadow-lg transition-all duration-300 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/50 to-blue-50/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(q,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 uppercase tracking-wider",children:"Cash Position"})]}),e.jsxs("div",{className:"flex items-baseline gap-2 mt-3",children:[e.jsx("span",{className:"text-3xl font-light text-gray-900 transition-all duration-500",children:r(T)}),T>=0?e.jsxs("span",{className:"flex items-center text-sm text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[e.jsx(ne,{className:"h-3 w-3 mr-1"}),"Positive"]}):e.jsxs("span",{className:"flex items-center text-sm text-red-600 bg-red-50 px-2 py-1 rounded-full",children:[e.jsx(re,{className:"h-3 w-3 mr-1"}),"Negative"]})]})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[e.jsxs("span",{className:"relative flex h-3 w-3 mr-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),e.jsx("span",{className:"text-gray-500",children:"Live"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Revenue"}),e.jsx("div",{className:"text-lg font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:r(c)})]}),e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Investments"}),e.jsx("div",{className:"text-lg font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:r(H)})]}),e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Expenses"}),e.jsx("div",{className:"text-lg font-medium text-gray-900 group-hover:text-red-600 transition-colors",children:r(h)})]}),e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Withdrawals"}),e.jsx("div",{className:"text-lg font-medium text-gray-900 group-hover:text-orange-600 transition-colors",children:r(D)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-blue-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),e.jsxs("div",{className:"flex items-center justify-between mb-4 relative",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 uppercase tracking-wider",children:"Operations"}),e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-lg",children:e.jsx(te,{className:"h-4 w-4 text-blue-600"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center group cursor-default",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Products"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:l.length})]}),e.jsxs("div",{className:"flex justify-between items-center group cursor-default",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Containers"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:a.length})]}),e.jsxs("div",{className:"flex justify-between items-center group cursor-default",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Total Sales"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:o.length})]}),e.jsxs("div",{className:"flex justify-between items-center group cursor-default",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Active Stock"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-green-600 transition-colors",children:l.filter(t=>t.currentStock>0).length})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Low Stock Alert"}),e.jsx("span",{className:`text-sm font-medium px-2 py-0.5 rounded-full ${x.length>0?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600"}`,children:x.length})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-green-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),e.jsxs("div",{className:"flex items-center justify-between mb-4 relative",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 uppercase tracking-wider",children:"Financials"}),e.jsx("div",{className:"p-1.5 bg-green-50 rounded-lg",children:e.jsx(w,{className:"h-4 w-4 text-green-600"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center group cursor-default",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Revenue"}),e.jsx("span",{className:"text-sm font-medium text-green-600 group-hover:text-green-700 transition-colors",children:r(c)})]}),e.jsxs("div",{className:"flex justify-between items-center group cursor-default",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Expenses"}),e.jsx("span",{className:"text-sm font-medium text-red-600 group-hover:text-red-700 transition-colors",children:r(h)})]}),e.jsxs("div",{className:"flex justify-between items-center group cursor-default",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Gross Profit"}),e.jsx("span",{className:`text-sm font-medium transition-colors ${p>=0?"text-green-600 group-hover:text-green-700":"text-red-600 group-hover:text-red-700"}`,children:r(p)})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Profit Margin"}),e.jsx("span",{className:`text-sm font-medium px-2 py-0.5 rounded-full ${c>0&&p/c*100>0?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:c>0?`${(p/c*100).toFixed(1)}%`:"0%"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),e.jsxs("div",{className:"flex items-center justify-between mb-4 relative",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 uppercase tracking-wider",children:"This Month"}),e.jsx("div",{className:"p-1.5 bg-purple-50 rounded-lg",children:e.jsx(g,{className:"h-4 w-4 text-purple-600"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center group cursor-default",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Sales"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-purple-600 transition-colors",children:m.length})]}),e.jsxs("div",{className:"flex justify-between items-center group cursor-default",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Avg Sale"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-purple-600 transition-colors",children:m.length>0?r(u/m.length):r(0)})]}),e.jsxs("div",{className:"flex justify-between items-center group cursor-default",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Expenses"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-purple-600 transition-colors",children:k.length})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Net Cash Flow"}),e.jsx("span",{className:`text-sm font-medium px-2 py-0.5 rounded-full ${u-y>0?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:r(u-y)})]})]})]})]}),x.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-orange-100 p-6 mb-8 hover:shadow-lg transition-all duration-300 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-50/0 via-orange-50/20 to-orange-50/0 pointer-events-none"}),e.jsxs("div",{className:"flex items-center justify-between cursor-pointer select-none",onClick:()=>B(!f),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-50 rounded-lg mr-3",children:e.jsx(J,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Low Stock Alert"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[x.length," items need restocking"]})]})]}),e.jsx(Q,{className:`h-5 w-5 text-gray-400 transform transition-transform duration-300 ease-in-out ${f?"rotate-180":"rotate-0"}`})]}),e.jsx("div",{style:{height:f?W:0,transition:"height 0.3s cubic-bezier(0.4, 0, 0.2, 1)",overflow:"hidden"},children:e.jsx("div",{ref:N,className:"pt-4",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:x.map(t=>e.jsx("div",{className:"group bg-gray-50 hover:bg-orange-50 p-3 rounded-lg border border-gray-100 hover:border-orange-200 transition-all duration-200 cursor-default",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:t.name}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:t.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-semibold text-orange-600",children:t.currentStock}),e.jsx("div",{className:"text-xs text-gray-500",children:"bags left"})]})]})},t.id))})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-green-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 uppercase tracking-wider",children:"Daily Sales"}),e.jsx("div",{className:"p-1.5 bg-green-50 rounded-lg",children:e.jsx(g,{className:"h-4 w-4 text-green-600"})})]}),E.length>0?e.jsx("div",{className:"space-y-3",children:E.map(t=>e.jsxs("div",{className:"group flex justify-between items-center py-3 px-3 rounded-lg hover:bg-gray-50 transition-all duration-200 cursor-default",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm group-hover:text-blue-600 transition-colors",children:I(t.date)}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[t.count," sale",t.count!==1?"s":""," • Profit: ",r(t.profit)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-green-600 text-sm",children:r(t.amount)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Daily Total"})]})]},t.date))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 mb-2",children:e.jsx(g,{className:"h-8 w-8 mx-auto"})}),e.jsx("p",{className:"text-sm text-gray-500",children:"No sales recorded yet"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-red-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 uppercase tracking-wider",children:"Daily Expenses"}),e.jsx("div",{className:"p-1.5 bg-red-50 rounded-lg",children:e.jsx(R,{className:"h-4 w-4 text-red-600"})})]}),P.length>0?e.jsx("div",{className:"space-y-3",children:P.map(t=>e.jsxs("div",{className:"group flex justify-between items-center py-3 px-3 rounded-lg hover:bg-gray-50 transition-all duration-200 cursor-default",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm group-hover:text-blue-600 transition-colors",children:I(t.date)}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[t.count," expense",t.count!==1?"s":""]})]}),e.jsxs("div",{className:"font-semibold text-red-600 text-sm",children:["-",r(t.amount)]})]},t.date))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 mb-2",children:e.jsx(R,{className:"h-8 w-8 mx-auto"})}),e.jsx("p",{className:"text-sm text-gray-500",children:"No expenses recorded yet"})]})]})]})]}),e.jsxs("div",{className:"mt-6 sm:mt-8 space-y-6 sm:space-y-8",children:[e.jsx(X,{}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 sm:gap-8",children:[e.jsx(Y,{}),e.jsx(Z,{})]})]})]})}export{ye as default};
