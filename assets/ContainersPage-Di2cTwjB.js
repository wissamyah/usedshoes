import{c as J,r as u,u as oe,d as ie,j as e,X as ne,C as ae,P as F,D as G,f as de,e as ce,E as pe,b as xe}from"./index-CRV_J7le.js";import{f as S}from"./dateFormatter-DEoQwZ0j.js";import be from"./ContainerForm-D5ifIi_2.js";import{v as ge}from"./validation-C6xYq1B_.js";import{M as ee}from"./Modal-DUAX2eHt.js";import{P as le}from"./pencil-8Bv-lINR.js";import{C as he}from"./calendar-cyicvPPQ.js";import{F as ue}from"./file-text-BaazMn3T.js";import{S as V}from"./StatCard-BF4QGOZ9.js";import{A as te}from"./archive-B171wzE6.js";import{T as me}from"./trending-up-CitdGNjV.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],se=J("map-pin",fe);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],X=J("pen-line",ye);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],re=J("truck",je);function ve({container:o,onClose:K,onEdit:M}){const[L,E]=u.useState("overview"),[I,w]=u.useState(!1),[y,P]=u.useState({reason:"",adjustedBy:"",productAdjustments:[]}),[p,W]=u.useState({}),{adjustContainerPrices:T,products:k}=oe(),{showSuccessMessage:B,showErrorMessage:N}=ie(),a=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0),x=o.products?.reduce((t,s)=>t+(s.bagQuantity||0),0)||0,v=o.products?.reduce((t,s)=>t+(s.bagQuantity||0)*(s.bagWeight||25),0)||0,g=o.products?.reduce((t,s)=>t+(s.bagQuantity||0)*(s.costPerKg||0)*(s.bagWeight||25),0)||0,C=parseFloat(o.shippingCost)||0,m=parseFloat(o.customsCost)||0,c=g+C+m,f=o.products?.length||0,n=c===0?{status:"Draft",color:"gray",bg:"bg-gray-100"}:o.arrivalDate?{status:"Arrived",color:"green",bg:"bg-green-100"}:o.shippingDate?{status:"In Transit",color:"blue",bg:"bg-blue-100"}:{status:"Ordered",color:"yellow",bg:"bg-yellow-100"},H=[{id:"overview",label:"Overview",icon:ae},{id:"products",label:"Products",icon:F},{id:"costs",label:"Costs",icon:G},{id:"adjustments",label:"Price Adjustments",icon:X},{id:"timeline",label:"Timeline",icon:de}],_=({tab:t,isActive:s,onClick:i})=>e.jsxs("button",{onClick:()=>i(t.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",fontSize:"14px",fontWeight:"500",borderRadius:"8px",border:"none",cursor:"pointer",transition:"all 0.2s",backgroundColor:s?"#2563eb":"transparent",color:s?"#ffffff":"#b3b3b3",boxShadow:s?"0 2px 4px rgba(37, 99, 235, 0.2)":"none"},onMouseEnter:l=>{s||(l.target.style.backgroundColor="rgba(255, 255, 255, 0.1)",l.target.style.color="#ebebeb")},onMouseLeave:l=>{s||(l.target.style.backgroundColor="transparent",l.target.style.color="#b3b3b3")},children:[e.jsx(t.icon,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:block",children:t.label}),e.jsx("span",{className:"sm:hidden",children:t.label.charAt(0)})]}),U=()=>{const t=o.products?.map(s=>{const i=k.find(l=>l.id==s.productId||l.id===parseInt(s.productId)||l.id===s.productId.toString());return{productId:s.productId,productName:i?.name||"Unknown Product",oldPricePerKg:s.costPerKg||0,newPricePerKg:s.costPerKg||0,bagQuantity:s.bagQuantity,bagWeight:s.bagWeight||25,currentStock:i?.currentStock||0}})||[];P({reason:"",adjustedBy:"",productAdjustments:t}),W({}),w(!0)},$=(t,s)=>{P(i=>({...i,[t]:s})),p[t]&&W(i=>({...i,[t]:""}))},O=(t,s)=>{P(l=>({...l,productAdjustments:l.productAdjustments.map((d,b)=>b===t?{...d,newPricePerKg:parseFloat(s)||0}:d)}));const i=`adjustment_${t}_price`;p[i]&&W(l=>({...l,[i]:""}))},Y=async()=>{try{const t=ge(y);if(!t.isValid){W(t.errors),N("Validation Error","Please fix the errors before submitting");return}const s=y.productAdjustments.filter(l=>l.oldPricePerKg!==l.newPricePerKg);if(s.length===0){N("No Changes","No price changes detected");return}const i={containerId:o.id,productAdjustments:s,reason:y.reason.trim(),adjustedBy:y.adjustedBy.trim()};await T(i),B("Price Adjustment Applied",`Successfully adjusted prices for ${s.length} product(s). Product costs have been recalculated using weighted average method.`),w(!1),E("adjustments")}catch(t){console.error("Price adjustment error:",t),N("Adjustment Failed",t.message||"Failed to apply price adjustment")}},q=()=>I?e.jsx(ee,{isOpen:!0,onClose:()=>w(!1),size:"large",children:e.jsxs("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"8px",padding:"24px",maxHeight:"80vh",overflowY:"auto"},children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb",marginBottom:"16px"},children:"Adjust Container Prices"}),e.jsx("p",{style:{color:"#b3b3b3",fontSize:"14px",marginBottom:"24px",lineHeight:"1.5"},children:"Adjust prices negotiated with supplier after container creation. This will recalculate your product costs using the weighted average method based on current stock levels."}),e.jsx("div",{style:{marginBottom:"24px"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#ebebeb",marginBottom:"8px"},children:"Reason for Adjustment *"}),e.jsx("input",{type:"text",value:y.reason,onChange:t=>$("reason",t.target.value),placeholder:"e.g., Negotiated discount due to quality issues",style:{width:"100%",padding:"12px",backgroundColor:"#1c1c1c",border:p.reason?"1px solid #ef4444":"1px solid #404040",borderRadius:"8px",color:"#ebebeb",fontSize:"14px"}}),p.reason&&e.jsx("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px"},children:p.reason})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#ebebeb",marginBottom:"8px"},children:"Adjusted By *"}),e.jsx("input",{type:"text",value:y.adjustedBy,onChange:t=>$("adjustedBy",t.target.value),placeholder:"Your name",style:{width:"100%",padding:"12px",backgroundColor:"#1c1c1c",border:p.adjustedBy?"1px solid #ef4444":"1px solid #404040",borderRadius:"8px",color:"#ebebeb",fontSize:"14px"}}),p.adjustedBy&&e.jsx("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px"},children:p.adjustedBy})]})]})}),e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsx("h4",{style:{fontSize:"16px",fontWeight:"500",color:"#ebebeb",marginBottom:"16px"},children:"Product Price Adjustments"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:y.productAdjustments.map((t,s)=>{const i=`adjustment_${s}_price`,l=t.oldPricePerKg!==t.newPricePerKg,d=t.newPricePerKg-t.oldPricePerKg,b=t.oldPricePerKg>0?(d/t.oldPricePerKg*100).toFixed(1):"0";return e.jsx("div",{style:{backgroundColor:"#1c1c1c",border:"1px solid #404040",borderRadius:"8px",padding:"16px"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr",gap:"16px",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("p",{style:{color:"#ebebeb",fontSize:"14px",fontWeight:"500",marginBottom:"4px"},children:t.productName}),e.jsxs("p",{style:{color:"#b3b3b3",fontSize:"12px"},children:[t.bagQuantity," bags Ã— ",t.bagWeight,"kg | Stock: ",t.currentStock," bags"]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"12px",color:"#b3b3b3",marginBottom:"4px"},children:"Current Price"}),e.jsxs("p",{style:{color:"#ebebeb",fontSize:"14px",fontWeight:"500"},children:["$",t.oldPricePerKg.toFixed(2),"/kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"12px",color:"#b3b3b3",marginBottom:"4px"},children:"New Price/kg *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:t.newPricePerKg,onChange:j=>O(s,j.target.value),style:{width:"100%",padding:"8px",backgroundColor:"#2a2a2a",border:p[i]?"1px solid #ef4444":"1px solid #404040",borderRadius:"4px",color:"#ebebeb",fontSize:"14px"}}),p[i]&&e.jsx("p",{style:{color:"#ef4444",fontSize:"11px",marginTop:"2px"},children:p[i]})]}),e.jsx("div",{children:l&&e.jsxs("div",{style:{padding:"8px",backgroundColor:d>0?"rgba(239, 68, 68, 0.1)":"rgba(34, 197, 94, 0.1)",border:`1px solid ${d>0?"#ef4444":"#22c55e"}`,borderRadius:"4px",textAlign:"center"},children:[e.jsxs("p",{style:{color:d>0?"#ef4444":"#22c55e",fontSize:"12px",fontWeight:"500",margin:0},children:[d>0?"+":"","$",d.toFixed(2)]}),e.jsxs("p",{style:{color:d>0?"#ef4444":"#22c55e",fontSize:"11px",margin:0},children:["(",d>0?"+":"",b,"%)"]})]})})]})},t.productId)})})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[e.jsx("button",{onClick:()=>w(!1),style:{padding:"12px 20px",backgroundColor:"transparent",border:"1px solid #404040",borderRadius:"8px",color:"#b3b3b3",fontSize:"14px",cursor:"pointer"},children:"Cancel"}),e.jsx("button",{onClick:Y,style:{padding:"12px 20px",backgroundColor:"#2563eb",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Apply Adjustments"})]})]})}):null,Q=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"12px",padding:"24px"},children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("h3",{style:{fontSize:"24px",fontWeight:"700",color:"#ebebeb"},children:["Container ",o.id]}),e.jsx("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"14px",fontWeight:"500",backgroundColor:n.status==="Arrived"?"rgba(34, 197, 94, 0.1)":n.status==="In Transit"?"rgba(59, 130, 246, 0.1)":n.status==="Ordered"?"rgba(245, 158, 11, 0.1)":"rgba(107, 114, 128, 0.1)",color:n.status==="Arrived"?"#22c55e":n.status==="In Transit"?"#3b82f6":n.status==="Ordered"?"#f59e0b":"#6b7280"},children:n.status})]}),e.jsxs("p",{style:{color:"#b3b3b3",display:"flex",alignItems:"center"},children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),o.supplier]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3"},children:"Total Investment"}),e.jsx("p",{style:{fontSize:"32px",fontWeight:"700",color:"#ebebeb"},children:a(c)})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"8px",padding:"16px"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{style:{color:"#3b82f6"},className:"h-6 w-6 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"24px",fontWeight:"600",color:"#ebebeb"},children:f}),e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3"},children:"Products"})]})]})}),e.jsx("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"8px",padding:"16px"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{style:{color:"#22c55e"},className:"h-6 w-6 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"24px",fontWeight:"600",color:"#ebebeb"},children:x}),e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3"},children:"Total Bags"})]})]})}),e.jsx("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"8px",padding:"16px"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(re,{style:{color:"#8b5cf6"},className:"h-6 w-6 mr-3"}),e.jsxs("div",{children:[e.jsxs("p",{style:{fontSize:"24px",fontWeight:"600",color:"#ebebeb"},children:[(v/1e3).toFixed(1),"t"]}),e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3"},children:"Total Weight"})]})]})}),e.jsx("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"8px",padding:"16px"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{style:{color:"#f59e0b"},className:"h-6 w-6 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"24px",fontWeight:"600",color:"#ebebeb"},children:v>0?a(c/v):"$0"}),e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3"},children:"Cost per Kg"})]})]})})]}),e.jsxs("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"8px",padding:"16px"},children:[e.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#ebebeb",marginBottom:"12px"},children:"Container Details"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"12px",color:"#b3b3b3",marginBottom:"2px"},children:"Supplier"}),e.jsx("p",{style:{fontSize:"14px",color:"#ebebeb",fontWeight:"500"},children:o.supplier})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"12px",color:"#b3b3b3",marginBottom:"2px"},children:"Purchase Date"}),e.jsx("p",{style:{fontSize:"14px",color:"#ebebeb"},children:S(o.purchaseDate)})]}),o.invoiceNumber&&e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"12px",color:"#b3b3b3",marginBottom:"2px"},children:"Invoice #"}),e.jsx("p",{style:{fontSize:"14px",color:"#ebebeb",fontFamily:"monospace"},children:o.invoiceNumber})]}),o.arrivalDate&&e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"12px",color:"#b3b3b3",marginBottom:"2px"},children:"Arrival Date"}),e.jsx("p",{style:{fontSize:"14px",color:"#ebebeb"},children:S(o.arrivalDate)})]})]}),o.description&&e.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #404040"},children:[e.jsx("p",{style:{fontSize:"12px",color:"#b3b3b3",marginBottom:"4px"},children:"Description"}),e.jsx("p",{style:{fontSize:"14px",color:"#ebebeb",lineHeight:"1.5"},children:o.description})]})]})]}),Z=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:"Products in Container"}),e.jsxs("span",{style:{fontSize:"14px",color:"#b3b3b3"},children:[f," products â€¢ ",x," bags"]})]}),o.products&&o.products.length>0?e.jsx("div",{className:"space-y-4",children:o.products.map((t,s)=>{const i=(t.bagQuantity||0)*(t.bagWeight||25),l=(t.bagQuantity||0)*(t.costPerKg||0)*(t.bagWeight||25),d=(t.costPerKg||0)*(t.bagWeight||25)+(x>0?(C+m)/x:0);return e.jsx("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"12px",padding:"24px",transition:"all 0.2s"},children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[e.jsx("h5",{style:{fontSize:"20px",fontWeight:"600",color:"#ebebeb",marginBottom:"8px"},className:"sm:mb-0",children:t.productName}),e.jsx("span",{style:{fontSize:"24px",fontWeight:"700",color:"#22c55e"},children:a(l)})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{style:{backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"8px",padding:"12px"},children:[e.jsx("p",{style:{fontSize:"12px",color:"#3b82f6",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Quantity"}),e.jsx("p",{style:{fontSize:"18px",fontWeight:"700",color:"#ebebeb"},children:t.bagQuantity}),e.jsx("p",{style:{fontSize:"12px",color:"#3b82f6"},children:"bags"})]}),e.jsxs("div",{style:{backgroundColor:"rgba(34, 197, 94, 0.1)",borderRadius:"8px",padding:"12px"},children:[e.jsx("p",{style:{fontSize:"12px",color:"#22c55e",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Weight"}),e.jsxs("p",{style:{fontSize:"18px",fontWeight:"700",color:"#ebebeb"},children:[i," kg"]}),e.jsxs("p",{style:{fontSize:"12px",color:"#22c55e"},children:[t.bagWeight,"kg/bag"]})]}),e.jsxs("div",{style:{backgroundColor:"rgba(139, 92, 246, 0.1)",borderRadius:"8px",padding:"12px"},children:[e.jsx("p",{style:{fontSize:"12px",color:"#8b5cf6",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Cost/Kg"}),e.jsx("p",{style:{fontSize:"18px",fontWeight:"700",color:"#ebebeb"},children:a(t.costPerKg)})]}),e.jsxs("div",{style:{backgroundColor:"rgba(245, 158, 11, 0.1)",borderRadius:"8px",padding:"12px"},children:[e.jsx("p",{style:{fontSize:"12px",color:"#f59e0b",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Cost/Bag"}),e.jsx("p",{style:{fontSize:"18px",fontWeight:"700",color:"#ebebeb"},children:a((t.costPerKg||0)*(t.bagWeight||25))})]}),e.jsxs("div",{style:{backgroundColor:"rgba(107, 114, 128, 0.1)",borderRadius:"8px",padding:"12px"},className:"col-span-2 lg:col-span-1",children:[e.jsx("p",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Landed/Bag"}),e.jsx("p",{style:{fontSize:"18px",fontWeight:"700",color:"#ebebeb"},children:a(d)})]})]})]})})},s)})}):e.jsxs("div",{style:{textAlign:"center",padding:"48px",backgroundColor:"#333333",borderRadius:"12px",border:"2px dashed #404040"},children:[e.jsx(F,{style:{color:"#808080"},className:"mx-auto h-12 w-12 mb-4"}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:"500",color:"#ebebeb",marginBottom:"8px"},children:"No Products Found"}),e.jsx("p",{style:{color:"#b3b3b3"},children:"This container doesn't have any products assigned yet."})]})]}),z=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"12px",padding:"24px"},children:[e.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb",marginBottom:"16px"},children:"Cost Summary"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3",marginBottom:"4px"},children:"Products Cost"}),e.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#ebebeb"},children:a(g)}),e.jsxs("p",{style:{fontSize:"12px",color:"#808080"},children:[(g/c*100).toFixed(1),"% of total"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3",marginBottom:"4px"},children:"Shipping & Customs"}),e.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#ebebeb"},children:a(C+m)}),e.jsxs("p",{style:{fontSize:"12px",color:"#808080"},children:[((C+m)/c*100).toFixed(1),"% of total"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3",marginBottom:"4px"},children:"Total Investment"}),e.jsx("p",{style:{fontSize:"32px",fontWeight:"700",color:"#22c55e"},children:a(c)})]})]})]}),e.jsxs("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"12px",padding:"24px"},children:[e.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb",marginBottom:"24px"},children:"Detailed Cost Breakdown"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3",style:{borderBottom:"1px solid #404040"},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{style:{width:"12px",height:"12px",backgroundColor:"#3b82f6",borderRadius:"50%"}}),e.jsx("span",{style:{fontWeight:"500",color:"#ebebeb"},children:"Products Total"})]}),e.jsx("span",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:a(g)})]}),e.jsxs("div",{className:"flex justify-between items-center py-3",style:{borderBottom:"1px solid #404040"},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{style:{width:"12px",height:"12px",backgroundColor:"#22c55e",borderRadius:"50%"}}),e.jsx("span",{style:{fontWeight:"500",color:"#ebebeb"},children:"Shipping Cost"})]}),e.jsx("span",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:a(C)})]}),e.jsxs("div",{className:"flex justify-between items-center py-3",style:{borderBottom:"1px solid #404040"},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{style:{width:"12px",height:"12px",backgroundColor:"#8b5cf6",borderRadius:"50%"}}),e.jsx("span",{style:{fontWeight:"500",color:"#ebebeb"},children:"Customs/Clearing Cost"})]}),e.jsx("span",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:a(m)})]}),e.jsxs("div",{className:"flex justify-between items-center py-4",style:{backgroundColor:"#333333",margin:"0 -24px",padding:"16px 24px",borderRadius:"8px"},children:[e.jsx("span",{style:{fontSize:"18px",fontWeight:"700",color:"#ebebeb"},children:"Total Container Cost"}),e.jsx("span",{style:{fontSize:"24px",fontWeight:"700",color:"#22c55e"},children:a(c)})]})]}),v>0&&e.jsxs("div",{style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid #404040"},children:[e.jsx("h5",{style:{fontSize:"16px",fontWeight:"600",color:"#ebebeb",marginBottom:"16px"},children:"Unit Cost Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{style:{backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"8px",padding:"16px"},children:[e.jsx("p",{style:{fontSize:"14px",color:"#3b82f6",fontWeight:"500"},children:"Average Landed Cost per Kg"}),e.jsx("p",{style:{fontSize:"20px",fontWeight:"700",color:"#ebebeb"},children:a(c/v)})]}),x>0&&e.jsxs("div",{style:{backgroundColor:"rgba(34, 197, 94, 0.1)",borderRadius:"8px",padding:"16px"},children:[e.jsx("p",{style:{fontSize:"14px",color:"#22c55e",fontWeight:"500"},children:"Average Landed Cost per Bag"}),e.jsx("p",{style:{fontSize:"20px",fontWeight:"700",color:"#ebebeb"},children:a(c/x)})]})]})]})]})]}),R=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:"Container Timeline"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{style:{position:"absolute",left:"32px",top:0,bottom:0,width:"2px",backgroundColor:"#404040"}}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"64px",height:"64px",backgroundColor:"rgba(34, 197, 94, 0.1)",borderRadius:"50%",border:"4px solid #1c1c1c",zIndex:10},children:e.jsx(he,{style:{width:"24px",height:"24px",color:"#22c55e"}})}),e.jsx("div",{className:"ml-6 min-w-0 flex-1",children:e.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"16px",borderRadius:"8px",border:"1px solid #404040"},children:[e.jsx("h5",{style:{fontWeight:"600",color:"#ebebeb"},children:"Container Ordered"}),e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"4px"},children:S(o.purchaseDate)}),e.jsxs("p",{style:{fontSize:"14px",color:"#808080",marginTop:"8px"},children:["Container ordered from ",o.supplier,o.invoiceNumber&&` with invoice #${o.invoiceNumber}`]})]})})]}),o.shippingDate&&e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"64px",height:"64px",backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"50%",border:"4px solid #1c1c1c",zIndex:10},children:e.jsx(re,{style:{width:"24px",height:"24px",color:"#3b82f6"}})}),e.jsx("div",{className:"ml-6 min-w-0 flex-1",children:e.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"16px",borderRadius:"8px",border:"1px solid #404040"},children:[e.jsx("h5",{style:{fontWeight:"600",color:"#ebebeb"},children:"Shipping Started"}),e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"4px"},children:S(o.shippingDate)}),e.jsx("p",{style:{fontSize:"14px",color:"#808080",marginTop:"8px"},children:"Container departed and is in transit"})]})})]}),o.arrivalDate&&e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"64px",height:"64px",backgroundColor:"rgba(139, 92, 246, 0.1)",borderRadius:"50%",border:"4px solid #1c1c1c",zIndex:10},children:e.jsx(se,{style:{width:"24px",height:"24px",color:"#8b5cf6"}})}),e.jsx("div",{className:"ml-6 min-w-0 flex-1",children:e.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"16px",borderRadius:"8px",border:"1px solid #404040"},children:[e.jsx("h5",{style:{fontWeight:"600",color:"#ebebeb"},children:"Container Arrived"}),e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"4px"},children:S(o.arrivalDate)}),e.jsx("p",{style:{fontSize:"14px",color:"#808080",marginTop:"8px"},children:"Container successfully arrived at destination"})]})})]}),e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"64px",height:"64px",backgroundColor:n.status==="Arrived"?"rgba(34, 197, 94, 0.1)":n.status==="In Transit"?"rgba(59, 130, 246, 0.1)":n.status==="Ordered"?"rgba(245, 158, 11, 0.1)":"rgba(107, 114, 128, 0.1)",borderRadius:"50%",border:"4px solid #1c1c1c",zIndex:10},children:e.jsx(ue,{style:{width:"24px",height:"24px",color:n.status==="Arrived"?"#22c55e":n.status==="In Transit"?"#3b82f6":n.status==="Ordered"?"#f59e0b":"#6b7280"}})}),e.jsx("div",{className:"ml-6 min-w-0 flex-1",children:e.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"16px",borderRadius:"8px",border:"1px solid #404040"},children:[e.jsx("h5",{style:{fontWeight:"600",color:"#ebebeb"},children:"Current Status"}),e.jsx("p",{style:{fontSize:"14px",color:n.status==="Arrived"?"#22c55e":n.status==="In Transit"?"#3b82f6":n.status==="Ordered"?"#f59e0b":"#6b7280",fontWeight:"500",marginTop:"4px"},children:n.status}),e.jsxs("p",{style:{fontSize:"14px",color:"#808080",marginTop:"8px"},children:["Total investment: ",a(c)," â€¢ ",x," bags â€¢ ",f," products"]})]})})]})]})]})]}),D=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"12px",padding:"24px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:"Price Adjustments"}),e.jsxs("button",{onClick:U,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",backgroundColor:"#2563eb",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:t=>{t.target.style.backgroundColor="#1d4ed8"},onMouseLeave:t=>{t.target.style.backgroundColor="#2563eb"},children:[e.jsx(X,{className:"h-4 w-4"}),"Adjust Prices"]})]}),e.jsx("p",{style:{color:"#b3b3b3",fontSize:"14px",marginBottom:"24px",lineHeight:"1.5"},children:"Make price adjustments after negotiating with suppliers. This will recalculate your product costs using the weighted average method based on current stock levels."}),e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsx("h4",{style:{fontSize:"16px",fontWeight:"500",color:"#ebebeb",marginBottom:"16px"},children:"Current Container Prices"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:o.products?.map((t,s)=>{const i=k.find(l=>l.id==t.productId||l.id===parseInt(t.productId)||l.id===t.productId.toString());return e.jsx("div",{style:{backgroundColor:"#1c1c1c",border:"1px solid #404040",borderRadius:"8px",padding:"16px"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr",gap:"16px",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("p",{style:{color:"#ebebeb",fontSize:"14px",fontWeight:"500",marginBottom:"4px"},children:i?.name||"Unknown Product"}),e.jsxs("p",{style:{color:"#b3b3b3",fontSize:"12px"},children:[t.bagQuantity," bags Ã— ",t.bagWeight||25,"kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"12px",color:"#b3b3b3",marginBottom:"4px"},children:"Container Price"}),e.jsxs("p",{style:{color:"#ebebeb",fontSize:"14px",fontWeight:"500"},children:["$",(t.costPerKg||0).toFixed(2),"/kg"]}),t.originalCostPerKg&&t.originalCostPerKg!==t.costPerKg&&e.jsxs("p",{style:{color:"#b3b3b3",fontSize:"11px",textDecoration:"line-through"},children:["Original: $",t.originalCostPerKg.toFixed(2),"/kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"12px",color:"#b3b3b3",marginBottom:"4px"},children:"Current Stock"}),e.jsxs("p",{style:{color:"#ebebeb",fontSize:"14px",fontWeight:"500"},children:[i?.currentStock||0," bags"]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"12px",color:"#b3b3b3",marginBottom:"4px"},children:"Current Product Cost"}),e.jsxs("p",{style:{color:"#ebebeb",fontSize:"14px",fontWeight:"500"},children:["$",(i?.costPerKg||i?.costPerUnit||0).toFixed(2),"/kg"]})]})]})},t.productId||s)})})]}),o.priceAdjustments&&o.priceAdjustments.length>0&&e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"16px",fontWeight:"500",color:"#ebebeb",marginBottom:"16px"},children:"Adjustment History"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:o.priceAdjustments.map((t,s)=>e.jsxs("div",{style:{backgroundColor:"#1c1c1c",border:"1px solid #404040",borderRadius:"8px",padding:"16px"},children:[e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{style:{color:"#ebebeb",fontSize:"14px",fontWeight:"500"},children:S(t.adjustmentDate)}),e.jsxs("p",{style:{color:"#b3b3b3",fontSize:"12px"},children:["by ",t.adjustedBy]})]}),e.jsx("p",{style:{color:"#b3b3b3",fontSize:"13px",marginTop:"4px"},children:t.reason})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.adjustments?.map((i,l)=>{const d=k.find(h=>h.id==i.productId||h.id===parseInt(i.productId)||h.id===i.productId.toString()),b=i.newPricePerKg-i.oldPricePerKg,j=i.oldPricePerKg>0?(b/i.oldPricePerKg*100).toFixed(1):"0";return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr",gap:"12px",alignItems:"center",padding:"8px",backgroundColor:"#2a2a2a",borderRadius:"4px"},children:[e.jsx("p",{style:{color:"#ebebeb",fontSize:"13px"},children:d?.name||"Unknown Product"}),e.jsxs("p",{style:{color:"#b3b3b3",fontSize:"12px"},children:["$",i.oldPricePerKg.toFixed(2),"/kg"]}),e.jsxs("p",{style:{color:"#ebebeb",fontSize:"12px",fontWeight:"500"},children:["$",i.newPricePerKg.toFixed(2),"/kg"]}),e.jsx("div",{style:{padding:"4px 8px",backgroundColor:b>0?"rgba(239, 68, 68, 0.1)":"rgba(34, 197, 94, 0.1)",border:`1px solid ${b>0?"#ef4444":"#22c55e"}`,borderRadius:"4px",textAlign:"center"},children:e.jsxs("p",{style:{color:b>0?"#ef4444":"#22c55e",fontSize:"11px",fontWeight:"500",margin:0},children:[b>0?"+":"","$",b.toFixed(2)," (",b>0?"+":"",j,"%)"]})})]},l)})})]},s))})]}),(!o.priceAdjustments||o.priceAdjustments.length===0)&&e.jsxs("div",{style:{textAlign:"center",padding:"32px",color:"#b3b3b3"},children:[e.jsx(X,{className:"h-12 w-12 mx-auto mb-4",style:{opacity:.5}}),e.jsx("p",{style:{fontSize:"16px",marginBottom:"8px"},children:"No Price Adjustments"}),e.jsx("p",{style:{fontSize:"14px"},children:'Click "Adjust Prices" to negotiate new prices with your supplier and maintain accurate cost tracking.'})]})]})}),r=()=>{switch(L){case"overview":return Q();case"products":return Z();case"costs":return z();case"adjustments":return D();case"timeline":return R();default:return Q()}};return e.jsxs(ee,{isOpen:!0,onClose:K,size:"large",children:[e.jsxs("div",{style:{backgroundColor:"#1c1c1c",minHeight:"80vh",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderBottom:"1px solid #404040",padding:"16px 24px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",color:"#ebebeb"},children:"Container Details"}),e.jsxs("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"4px"},children:[o.supplier," â€¢ ",S(o.purchaseDate)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:M,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",fontSize:"14px",fontWeight:"500",color:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:t=>{t.target.style.backgroundColor="rgba(59, 130, 246, 0.2)"},onMouseLeave:t=>{t.target.style.backgroundColor="rgba(59, 130, 246, 0.1)"},title:"Edit container",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),e.jsx("button",{onClick:K,style:{padding:"8px",color:"#b3b3b3",backgroundColor:"transparent",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:t=>{t.target.style.color="#ebebeb",t.target.style.backgroundColor="rgba(255, 255, 255, 0.1)"},onMouseLeave:t=>{t.target.style.color="#b3b3b3",t.target.style.backgroundColor="transparent"},children:e.jsx(ne,{className:"h-5 w-5"})})]})]}),e.jsx("div",{style:{backgroundColor:"#2a2a2a",borderBottom:"1px solid #404040",padding:"12px 24px"},children:e.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:H.map(t=>e.jsx(_,{tab:t,isActive:L===t.id,onClick:E},t.id))})}),e.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px",backgroundColor:"#1c1c1c",scrollbarWidth:"thin",scrollbarColor:"#404040 #1c1c1c"},children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
              div[style*="overflowY: auto"]::-webkit-scrollbar {
                width: 8px;
              }
              div[style*="overflowY: auto"]::-webkit-scrollbar-track {
                background: #1c1c1c;
              }
              div[style*="overflowY: auto"]::-webkit-scrollbar-thumb {
                background: #404040;
                border-radius: 4px;
              }
              div[style*="overflowY: auto"]::-webkit-scrollbar-thumb:hover {
                background: #505050;
              }
            `}}),r()]}),e.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderTop:"1px solid #404040",padding:"16px 24px",display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:"12px"},children:[e.jsx("button",{onClick:K,style:{padding:"8px 16px",fontSize:"14px",fontWeight:"500",color:"#b3b3b3",backgroundColor:"transparent",border:"1px solid #404040",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:t=>{t.target.style.backgroundColor="rgba(255, 255, 255, 0.05)",t.target.style.color="#ebebeb"},onMouseLeave:t=>{t.target.style.backgroundColor="transparent",t.target.style.color="#b3b3b3"},children:"Close"}),e.jsx("button",{onClick:M,style:{padding:"8px 16px",fontSize:"14px",fontWeight:"500",color:"#ffffff",backgroundColor:"#2563eb",border:"none",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:t=>{t.target.style.backgroundColor="#1d4ed8"},onMouseLeave:t=>{t.target.style.backgroundColor="#2563eb"},children:"Edit Container"})]})]}),q()]})}function Re(){const{containers:o,products:K,addContainer:M,updateContainer:L,deleteContainer:E,error:I,setError:w}=oe(),{showSuccessMessage:y,showErrorMessage:P,showConfirmDialog:p}=ie(),[W,T]=u.useState(!1),[k,B]=u.useState(null),[N,a]=u.useState(null),[x,v]=u.useState(""),[g,C]=u.useState("purchaseDate"),[m,c]=u.useState("desc");u.useEffect(()=>{I&&(P("Operation Failed",I),w(null))},[I,P,w]);const f=o.filter(r=>r.id.toLowerCase().includes(x.toLowerCase())||r.supplier.toLowerCase().includes(x.toLowerCase())||r.invoiceNumber?.toLowerCase().includes(x.toLowerCase())).sort((r,t)=>{let s=r[g],i=t[g];return g==="purchaseDate"?(s=new Date(s),i=new Date(i)):g==="totalCost"&&(s=parseFloat(s)||0,i=parseFloat(i)||0),m==="asc"?s>i?1:-1:s<i?1:-1}),A=o.length,n=o.reduce((r,t)=>r+(parseFloat(t.totalCost)||0),0),H=o.reduce((r,t)=>r+(t.products?.length||0),0),_=A>0?n/A:0,U=r=>{const t=r.products||[],s=t.length,i=t.reduce((j,h)=>j+(h.bagQuantity||0),0),l=t.reduce((j,h)=>j+(h.bagQuantity||0)*(h.bagWeight||25),0),b=t.reduce((j,h)=>j+(h.bagQuantity||0)*(h.costPerKg||0)*(h.bagWeight||25),0)+(parseFloat(r.shippingCost)||0)+(parseFloat(r.customsCost)||0);return{productCount:s,totalStock:i,totalKg:l,totalValue:b}},$=()=>{B(null),T(!0)},O=r=>{B(r),T(!0)},Y=async r=>{const t=o.find(l=>l.id===r),s=t?`${t.id} (${t.supplier})`:r;await p(`Delete Container ${s}`,"Are you sure you want to delete this container? This will revert ALL stock that was added from this container. This action cannot be undone and may affect your inventory levels.","danger")&&(E(r),y("Container Deleted",`Container ${s} has been deleted and stock has been reverted.`))},q=r=>{a(r)},Q=async r=>{try{k?await L(k.id,r):await M(r),T(!1),B(null)}catch(t){console.error("Form submission error:",t)}},Z=()=>{T(!1),B(null)},z=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r||0),R=r=>{g===r?c(m==="asc"?"desc":"asc"):(C(r),c("desc"))},D=r=>g!==r?null:e.jsx("svg",{className:`w-4 h-4 ml-1 ${m==="asc"?"transform rotate-180":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})});return e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"sm:max-w-7xl sm:mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#ebebeb"},children:"Container Management"}),e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"4px"},children:"Track and manage your import containers and their contents"})]}),e.jsxs("button",{onClick:$,className:"inline-flex items-center justify-center w-12 h-12 sm:w-auto sm:h-auto sm:px-4 sm:py-2 border border-transparent rounded-lg sm:rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 touch-manipulation",children:[e.jsx(ce,{className:"h-6 w-6 sm:h-4 sm:w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Container"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsx(V,{title:"Total Containers",value:`${A}`,subtitle:"Import shipments",icon:te,iconBgColor:"bg-blue-100",iconColor:"text-blue-600"}),e.jsx(V,{title:"Total Investment",value:z(n),subtitle:"Container costs",icon:G,iconBgColor:"bg-green-100",iconColor:"text-green-600"}),e.jsx(V,{title:"Total Products",value:`${H}`,subtitle:"Items imported",icon:F,iconBgColor:"bg-purple-100",iconColor:"text-purple-600"}),e.jsx(V,{title:"Avg Container Value",value:z(_),subtitle:"Per container",icon:me,iconBgColor:"bg-orange-100",iconColor:"text-orange-600"})]}),e.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #404040"},className:"mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:"Filter Containers"}),e.jsxs("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"4px"},children:[f.length," container",f.length!==1?"s":""," found"]})]})}),e.jsxs("div",{style:{backgroundColor:"#333333",borderRadius:"8px"},className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[e.jsx("div",{className:"col-span-1 sm:col-span-2 lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"h-5 w-5 absolute left-3 top-1/2 -translate-y-1/2",style:{color:"#808080"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",value:x,onChange:r=>v(r.target.value),placeholder:"Search by ID, supplier, or invoice number...",style:{width:"100%",paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #404040",borderRadius:"6px",fontSize:"14px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:r=>{r.target.style.borderColor="#60a5fa",r.target.style.boxShadow="0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:r=>{r.target.style.borderColor="#404040",r.target.style.boxShadow="none"}})]})}),e.jsx("div",{className:"col-span-1",children:e.jsxs("select",{value:`${g}-${m}`,onChange:r=>{const[t,s]=r.target.value.split("-");C(t),c(s)},style:{width:"100%",padding:"0.5rem 0.75rem",border:"1px solid #404040",borderRadius:"6px",fontSize:"14px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:r=>{r.target.style.borderColor="#60a5fa",r.target.style.boxShadow="0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:r=>{r.target.style.borderColor="#404040",r.target.style.boxShadow="none"},children:[e.jsx("option",{value:"purchaseDate-desc",children:"Date (Newest)"}),e.jsx("option",{value:"purchaseDate-asc",children:"Date (Oldest)"}),e.jsx("option",{value:"supplier-asc",children:"Supplier (A-Z)"}),e.jsx("option",{value:"supplier-desc",children:"Supplier (Z-A)"}),e.jsx("option",{value:"totalCost-desc",children:"Cost (High-Low)"}),e.jsx("option",{value:"totalCost-asc",children:"Cost (Low-High)"})]})})]}),x&&e.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:e.jsx("button",{onClick:()=>v(""),style:{padding:"0.5rem 0.75rem",fontSize:"14px",color:"#808080",textDecoration:"underline",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s",marginLeft:"auto"},onMouseEnter:r=>{r.target.style.color="#ebebeb"},onMouseLeave:r=>{r.target.style.color="#808080"},children:"Clear Search"})})]}),e.jsx("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #404040"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{style:{fontSize:"14px",color:"#b3b3b3"},children:["Showing ",f.length," of ",A," containers"]}),f.length>0&&e.jsxs("span",{style:{fontSize:"14px",color:"#808080"},children:["Total Value: ",z(n)]})]})})]})}),f.length===0?e.jsxs("div",{className:"text-center py-12",style:{backgroundColor:"#2a2a2a",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[e.jsx(te,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium",style:{color:"#ebebeb"},children:"No containers found"}),e.jsx("p",{className:"mt-1 text-sm",style:{color:"#b3b3b3"},children:A===0?"No containers added.":"Try adjusting your search criteria."})]}):e.jsx("div",{style:{backgroundColor:"#2a2a2a",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #404040"},className:"overflow-hidden sm:rounded-md",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",style:{borderCollapse:"collapse"},children:[e.jsx("thead",{style:{backgroundColor:"#333333",borderBottom:"1px solid #404040"},children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer",style:{color:"#b3b3b3"},onClick:()=>R("id"),children:e.jsxs("div",{className:"flex items-center",children:["Container ID",D("id")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer",style:{color:"#b3b3b3"},onClick:()=>R("supplier"),children:e.jsxs("div",{className:"flex items-center",children:["Supplier",D("supplier")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer",style:{color:"#b3b3b3"},onClick:()=>R("purchaseDate"),children:e.jsxs("div",{className:"flex items-center",children:["Purchase Date",D("purchaseDate")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#b3b3b3"},children:"Products"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer",style:{color:"#b3b3b3"},onClick:()=>R("totalCost"),children:e.jsxs("div",{className:"flex items-center",children:["Total Cost",D("totalCost")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#b3b3b3"},children:"Total Value"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{children:f.map(r=>{const t=U(r);return e.jsxs("tr",{style:{borderTop:"1px solid #404040"},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",style:{color:"#ebebeb"},children:r.id}),r.invoiceNumber&&e.jsxs("div",{className:"text-sm",style:{color:"#b3b3b3"},children:["Invoice: ",r.invoiceNumber]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#ebebeb"},children:r.supplier}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#ebebeb"},children:S(r.purchaseDate)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm",style:{color:"#ebebeb"},children:[t.productCount," ",t.productCount===1?"product":"products"]}),e.jsxs("div",{className:"text-sm",style:{color:"#b3b3b3"},children:[t.totalStock," bags (",t.totalKg,"kg)"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#ebebeb"},children:z(r.totalCost)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",style:{color:"#ebebeb"},children:z(t.totalValue)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>q(r),style:{color:"#22c55e",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:s=>{s.target.style.backgroundColor="rgba(34, 197, 94, 0.1)",s.target.style.color="#16a34a"},onMouseLeave:s=>{s.target.style.backgroundColor="transparent",s.target.style.color="#22c55e"},title:"View details",children:e.jsx(pe,{style:{height:"16px",width:"16px"}})}),e.jsx("button",{onClick:()=>O(r),style:{color:"#3b82f6",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:s=>{s.target.style.backgroundColor="rgba(59, 130, 246, 0.1)",s.target.style.color="#2563eb"},onMouseLeave:s=>{s.target.style.backgroundColor="transparent",s.target.style.color="#3b82f6"},title:"Edit container",children:e.jsx(le,{style:{height:"16px",width:"16px"}})}),e.jsx("button",{onClick:()=>Y(r.id),style:{color:"#ef4444",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:s=>{s.target.style.backgroundColor="rgba(239, 68, 68, 0.1)",s.target.style.color="#dc2626"},onMouseLeave:s=>{s.target.style.backgroundColor="transparent",s.target.style.color="#ef4444"},title:"Delete container",children:e.jsx(xe,{style:{height:"16px",width:"16px"}})})]})})]},r.id)})})]})})})]})}),W&&e.jsx(be,{container:k,onSubmit:Q,onCancel:Z}),N&&e.jsx(ve,{container:N,onClose:()=>a(null),onEdit:()=>{a(null),O(N)}})]})}export{Re as default};
