import{c as J,j as e,P as M,C as Z,T as P,b as ee,u as T,r as b,X as F,d as V,e as te,D as oe}from"./index-DZ5xCJZE.js";import{T as E}from"./trending-up-Dq6cGB8k.js";import{P as re}from"./pencil-DJPFJfv4.js";import se from"./ProductForm-DzlmPqkO.js";import{f as U}from"./dateFormatter-DEoQwZ0j.js";import{M as O}from"./Modal-B-Nuo7Yx.js";import{S as N}from"./StatCard-DrM67e1N.js";import{A as ne}from"./archive-DSdHH29O.js";import"./validation-C6xYq1B_.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]],ae=J("package-x",le);function ie({products:r,containers:p,onEdit:u,onDelete:f,onViewMovement:d,onDestroy:i}){const c=t=>t===0?{color:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)"}:t<=5?{color:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)"}:{color:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)"},o=t=>t===0?"Out of Stock":t<=5?"Low Stock":"In Stock",l=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t);return e.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #404040",overflow:"hidden"},children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",style:{borderCollapse:"separate",borderSpacing:0},children:[e.jsx("thead",{style:{backgroundColor:"#333333"},children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Product"}),e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Category"}),e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Stock (bags)"}),e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Cost/kg"}),e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Avg. Selling Price"}),e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Total Value"}),e.jsx("th",{scope:"col",style:{position:"relative",padding:"12px 24px"},children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{style:{backgroundColor:"#2a2a2a"},children:r.map(t=>e.jsxs("tr",{style:{borderBottom:"1px solid #404040",transition:"background-color 0.2s"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.05)"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},children:[e.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{style:{height:"40px",width:"40px",borderRadius:"8px",backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(M,{style:{height:"24px",width:"24px",color:"#ebebeb",opacity:.7}})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#ebebeb"},children:t.name}),t.description&&e.jsx("div",{style:{fontSize:"14px",color:"#b3b3b3"},children:t.description.length>50?`${t.description.substring(0,50)}...`:t.description})]})]})}),e.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:e.jsx("span",{style:{padding:"4px 8px",display:"inline-flex",fontSize:"12px",lineHeight:"20px",fontWeight:"600",borderRadius:"9999px",backgroundColor:"rgba(96, 165, 250, 0.1)",color:"#60a5fa"},children:t.category})}),e.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{style:{fontSize:"14px",fontWeight:"500",color:"#ebebeb",marginRight:"8px"},children:[t.currentStock," bags"]}),e.jsx("span",{style:{padding:"4px 8px",display:"inline-flex",fontSize:"12px",lineHeight:"20px",fontWeight:"600",borderRadius:"9999px",...c(t.currentStock)},children:o(t.currentStock)})]})}),e.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",color:"#ebebeb"},children:l(t.costPerKg||t.costPerUnit)}),e.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:t.avgSellingPrice?e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:"#ebebeb"},children:l(t.avgSellingPrice)}),t.avgSellingPrice>(t.costPerKg||t.costPerUnit||0)?e.jsx(E,{style:{height:"16px",width:"16px",color:"#22c55e",marginLeft:"4px"}}):e.jsx(E,{style:{height:"16px",width:"16px",color:"#ef4444",marginLeft:"4px",transform:"rotate(180deg)"}}),t.totalSold>0&&e.jsxs("span",{style:{fontSize:"12px",color:"#808080",marginLeft:"8px"},children:["(",t.totalSold," sold)"]})]}):e.jsx("span",{style:{fontSize:"14px",color:"#808080",fontStyle:"italic"},children:"No sales yet"})}),e.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"500",color:"#ebebeb"},children:l(t.currentStock*(t.bagWeight||25)*(t.costPerKg||t.costPerUnit||0))}),e.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",textAlign:"right",fontSize:"14px",fontWeight:"500"},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>d(t),style:{color:"#22c55e",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:a=>{a.target.style.backgroundColor="rgba(34, 197, 94, 0.1)",a.target.style.color="#16a34a"},onMouseLeave:a=>{a.target.style.backgroundColor="transparent",a.target.style.color="#22c55e"},title:"View product movement",children:e.jsx(Z,{style:{height:"16px",width:"16px"}})}),e.jsx("button",{onClick:()=>u(t),style:{color:"#3b82f6",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:a=>{a.target.style.backgroundColor="rgba(59, 130, 246, 0.1)",a.target.style.color="#2563eb"},onMouseLeave:a=>{a.target.style.backgroundColor="transparent",a.target.style.color="#3b82f6"},title:"Edit product",children:e.jsx(re,{style:{height:"16px",width:"16px"}})}),t.currentStock>0&&e.jsx("button",{onClick:()=>i(t),style:{color:"#f59e0b",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:a=>{a.target.style.backgroundColor="rgba(245, 158, 11, 0.1)",a.target.style.color="#d97706"},onMouseLeave:a=>{a.target.style.backgroundColor="transparent",a.target.style.color="#f59e0b"},title:"Destroy/damage product",children:e.jsx(P,{style:{height:"16px",width:"16px"}})}),e.jsx("button",{onClick:()=>f(t.id),style:{color:"#ef4444",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:a=>{a.target.style.backgroundColor="rgba(239, 68, 68, 0.1)",a.target.style.color="#dc2626"},onMouseLeave:a=>{a.target.style.backgroundColor="transparent",a.target.style.color="#ef4444"},title:"Delete product",children:e.jsx(ee,{style:{height:"16px",width:"16px"}})})]})})]},t.id))})]})}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ae,{style:{margin:"0 auto",height:"48px",width:"48px",color:"#808080"}}),e.jsx("h3",{style:{marginTop:"8px",fontSize:"14px",fontWeight:"500",color:"#ebebeb"},children:"No products"}),e.jsx("p",{style:{marginTop:"4px",fontSize:"14px",color:"#b3b3b3"},children:"No products match your current filters."})]})]})})}function de({product:r,onEdit:p,onDelete:u,onViewMovement:f,onDestroy:d}){const i=t=>t===0?{color:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)"}:t<=5?{color:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)"}:{color:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)"},c=t=>t===0?"Out of Stock":t<=5?"Low Stock":"In Stock",o=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),l=r.currentStock*(r.bagWeight||25)*(r.costPerKg||r.costPerUnit||0);return e.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #404040",overflow:"hidden",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)",t.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:t=>{t.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",t.currentTarget.style.transform="translateY(0)"},children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:e.jsx("div",{style:{height:"48px",width:"48px",borderRadius:"8px",backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("svg",{style:{height:"28px",width:"28px",color:"#ebebeb",opacity:.7},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"500",color:"#ebebeb",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:r.name}),e.jsxs("p",{style:{fontSize:"14px",color:"#b3b3b3"},children:["ID: ",r.id]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>f(r),style:{color:"#22c55e",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:t=>{t.target.style.backgroundColor="rgba(34, 197, 94, 0.1)",t.target.style.color="#16a34a"},onMouseLeave:t=>{t.target.style.backgroundColor="transparent",t.target.style.color="#22c55e"},title:"View product movement",children:e.jsx("svg",{style:{height:"16px",width:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("button",{onClick:()=>p(r),style:{color:"#3b82f6",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:t=>{t.target.style.backgroundColor="rgba(59, 130, 246, 0.1)",t.target.style.color="#2563eb"},onMouseLeave:t=>{t.target.style.backgroundColor="transparent",t.target.style.color="#3b82f6"},title:"Edit product",children:e.jsx("svg",{style:{height:"16px",width:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),r.currentStock>0&&d&&e.jsx("button",{onClick:()=>d(r),style:{color:"#f59e0b",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:t=>{t.target.style.backgroundColor="rgba(245, 158, 11, 0.1)",t.target.style.color="#d97706"},onMouseLeave:t=>{t.target.style.backgroundColor="transparent",t.target.style.color="#f59e0b"},title:"Destroy/damage product",children:e.jsx("svg",{style:{height:"16px",width:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("button",{onClick:()=>u(r.id),style:{color:"#ef4444",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:t=>{t.target.style.backgroundColor="rgba(239, 68, 68, 0.1)",t.target.style.color="#dc2626"},onMouseLeave:t=>{t.target.style.backgroundColor="transparent",t.target.style.color="#ef4444"},title:"Delete product",children:e.jsx("svg",{style:{height:"16px",width:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),e.jsx("div",{className:"flex items-center space-x-2 mb-4",children:e.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:"600",borderRadius:"9999px",backgroundColor:"rgba(96, 165, 250, 0.1)",color:"#60a5fa"},children:r.category})}),r.description&&e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3",marginBottom:"16px",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:r.description}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#ebebeb"},children:"Stock Level"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxs("span",{style:{fontSize:"18px",fontWeight:"700",color:"#ebebeb"},children:[r.currentStock," bags"]}),e.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:"600",borderRadius:"9999px",...i(r.currentStock)},children:c(r.currentStock)})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#b3b3b3"},children:"Cost/kg"}),e.jsx("p",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:o(r.costPerUnit)})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#b3b3b3"},children:"Total Value"}),e.jsx("p",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:o(l)})]})]}),r.avgSellingPrice!==void 0&&e.jsx("div",{style:{borderTop:"1px solid #404040",paddingTop:"12px",marginBottom:"12px"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#b3b3b3"},children:"Avg. Selling Price"}),r.avgSellingPrice?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:o(r.avgSellingPrice)}),e.jsxs("span",{style:{fontSize:"12px",color:"#808080"},children:["(",r.totalSold," sold)"]})]}):e.jsx("p",{style:{fontSize:"14px",color:"#808080",fontStyle:"italic"},children:"No sales yet"})]})}),r.createdAt&&e.jsx("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #404040"},children:e.jsxs("p",{style:{fontSize:"12px",color:"#808080"},children:["Added ",U(r.createdAt)]})})]}),r.currentStock<=5&&e.jsx("div",{style:{padding:"12px 24px",backgroundColor:r.currentStock===0?"rgba(239, 68, 68, 0.1)":"rgba(245, 158, 11, 0.1)",borderTop:"1px solid #404040"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{style:{height:"16px",width:"16px",marginRight:"8px",color:r.currentStock===0?"#ef4444":"#f59e0b"},fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:r.currentStock===0?"#ef4444":"#f59e0b"},children:r.currentStock===0?"Out of stock - reorder needed":"Low stock - consider reordering"})]})})]})}function ce({product:r,onClose:p}){const{containers:u,sales:f}=T(),d=b.useMemo(()=>{if(!r)return[];const o=[];return u.forEach(l=>{if(l.products){const t=l.products.find(a=>a.productId==r.id||a.productId===parseInt(r.id)||a.productId===r.id.toString());t&&o.push({date:l.purchaseDate||l.createdAt,type:"IN",description:`Container Purchase - ${l.id}`,supplier:l.supplier,quantity:t.bagQuantity,costPerKg:t.costPerKg,bagWeight:t.bagWeight||25,reference:l.id})}}),f.forEach(l=>{(l.productId==r.id||l.productId===parseInt(r.id)||l.productId===r.id.toString())&&o.push({date:l.saleDate||l.createdAt,type:"OUT",description:"Product Sale",supplier:l.customerName||"Customer",quantity:-l.quantity,costPerKg:l.pricePerUnit||l.pricePerKg,bagWeight:r.bagWeight||25,reference:l.id})}),o.sort((l,t)=>new Date(t.date)-new Date(l.date))},[r,u,f]),i=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o||0),c=b.useMemo(()=>{let o=0;return d.map(l=>(o+=l.quantity,{...l,balance:o})).reverse()},[d]);return e.jsx(O,{isOpen:!0,onClose:p,size:"xlarge",children:e.jsxs("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"8px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)",padding:"20px",maxHeight:"80vh",overflowY:"auto",scrollbarWidth:"thin",scrollbarColor:"#404040 #2a2a2a"},children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
            div[style*="maxHeight: 80vh"]::-webkit-scrollbar {
              width: 8px;
            }
            div[style*="maxHeight: 80vh"]::-webkit-scrollbar-track {
              background: #2a2a2a;
            }
            div[style*="maxHeight: 80vh"]::-webkit-scrollbar-thumb {
              background: #404040;
              border-radius: 4px;
            }
            div[style*="maxHeight: 80vh"]::-webkit-scrollbar-thumb:hover {
              background: #505050;
            }
          `}}),e.jsxs("div",{style:{marginTop:"12px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"20px",fontWeight:"500",color:"#ebebeb"},children:"Product Movement History"}),e.jsxs("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"4px"},children:[r.name," - Current Stock: ",r.currentStock," bags"]})]}),e.jsxs("button",{onClick:p,style:{color:"#b3b3b3",padding:"8px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:o=>{o.target.style.color="#ebebeb",o.target.style.backgroundColor="rgba(255, 255, 255, 0.1)"},onMouseLeave:o=>{o.target.style.color="#b3b3b3",o.target.style.backgroundColor="transparent"},children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(F,{className:"h-6 w-6"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{style:{backgroundColor:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.2)",borderRadius:"8px",padding:"16px"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-8 w-8",style:{color:"#22c55e"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#22c55e"},children:"Total Purchased"}),e.jsxs("p",{style:{fontSize:"24px",fontWeight:"600",color:"#ebebeb"},children:[c.filter(o=>o.quantity>0).reduce((o,l)=>o+l.quantity,0)," bags"]})]})]})}),e.jsx("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"8px",padding:"16px"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-8 w-8",style:{color:"#ef4444"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#ef4444"},children:"Total Sold"}),e.jsxs("p",{style:{fontSize:"24px",fontWeight:"600",color:"#ebebeb"},children:[Math.abs(c.filter(o=>o.quantity<0).reduce((o,l)=>o+l.quantity,0))," bags"]})]})]})}),e.jsx("div",{style:{backgroundColor:"rgba(96, 165, 250, 0.1)",border:"1px solid rgba(96, 165, 250, 0.2)",borderRadius:"8px",padding:"16px"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-8 w-8",style:{color:"#60a5fa"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#60a5fa"},children:"Movements"}),e.jsx("p",{style:{fontSize:"24px",fontWeight:"600",color:"#ebebeb"},children:d.length})]})]})})]}),d.length>0?e.jsx("div",{style:{backgroundColor:"#333333",border:"1px solid #404040",borderRadius:"8px",overflow:"hidden"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{style:{backgroundColor:"#404040"},children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #404040"},children:"Date"}),e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #404040"},children:"Type"}),e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #404040"},children:"Description"}),e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #404040"},children:"Quantity"}),e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #404040"},children:"Cost/Kg"}),e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #404040"},children:"Total Value"}),e.jsx("th",{scope:"col",style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #404040"},children:"Reference"})]})}),e.jsx("tbody",{style:{backgroundColor:"#333333"},children:d.map((o,l)=>e.jsxs("tr",{style:{backgroundColor:o.type==="OUT"?"rgba(239, 68, 68, 0.1)":"rgba(34, 197, 94, 0.1)",borderBottom:l<d.length-1?"1px solid #404040":"none"},children:[e.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",color:"#ebebeb"},children:U(o.date)}),e.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:e.jsx("span",{style:{padding:"4px 8px",display:"inline-flex",fontSize:"12px",lineHeight:"16px",fontWeight:"600",borderRadius:"9999px",backgroundColor:o.type==="IN"?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:o.type==="IN"?"#22c55e":"#ef4444"},children:o.type})}),e.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#ebebeb"},children:o.description}),e.jsx("div",{style:{fontSize:"14px",color:"#b3b3b3"},children:o.supplier})]}),e.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[e.jsxs("div",{style:{fontSize:"14px",fontWeight:"500",color:"#ebebeb"},children:[o.type==="IN"?"+":"",o.quantity," bags"]}),e.jsxs("div",{style:{fontSize:"12px",color:"#b3b3b3"},children:["(",Math.abs(o.quantity)*o.bagWeight,"kg)"]})]}),e.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",color:"#ebebeb"},children:i(o.costPerKg)}),e.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"500",color:"#ebebeb"},children:i(Math.abs(o.quantity)*o.bagWeight*o.costPerKg)}),e.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",color:"#60a5fa"},children:o.reference})]},l))})]})})}):e.jsxs("div",{style:{textAlign:"center",padding:"48px",backgroundColor:"#333333",border:"1px solid #404040",borderRadius:"8px"},children:[e.jsx("div",{className:"mx-auto h-12 w-12",style:{color:"#808080"},children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 48 48",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5l7-7 7 7M9 20h6"})})}),e.jsx("h3",{style:{marginTop:"8px",fontSize:"14px",fontWeight:"500",color:"#ebebeb"},children:"No movements found"}),e.jsx("p",{style:{marginTop:"4px",fontSize:"14px",color:"#b3b3b3"},children:"This product has no purchase or sales history yet."})]}),e.jsx("div",{className:"flex justify-end",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid #404040"},children:e.jsx("button",{onClick:p,style:{padding:"8px 16px",fontSize:"14px",fontWeight:"500",color:"#b3b3b3",backgroundColor:"transparent",border:"1px solid #404040",borderRadius:"6px",cursor:"pointer",outline:"none",transition:"all 0.2s"},onMouseEnter:o=>{o.target.style.backgroundColor="rgba(255, 255, 255, 0.05)",o.target.style.borderColor="#60a5fa",o.target.style.color="#ebebeb"},onMouseLeave:o=>{o.target.style.backgroundColor="transparent",o.target.style.borderColor="#404040",o.target.style.color="#b3b3b3"},children:"Close"})})]})]})})}function xe({product:r,onClose:p}){const{destroyProduct:u}=T(),{showSuccessMessage:f,showErrorMessage:d}=V(),[i,c]=b.useState({quantity:"1",reason:"",notes:""}),[o,l]=b.useState({}),[t,a]=b.useState(!1),k=["Damaged during transportation","Water damage","Mold/contamination","Quality issues","Expired/deteriorated","Packaging destroyed","Other"],w=()=>{const n={};return!i.quantity||parseInt(i.quantity)<=0?n.quantity="Quantity must be at least 1":parseInt(i.quantity)>r.currentStock&&(n.quantity=`Cannot destroy more than available stock (${r.currentStock})`),i.reason||(n.reason="Please select a reason"),i.reason==="Other"&&!i.notes.trim()&&(n.notes='Please provide details for "Other" reason'),l(n),Object.keys(n).length===0},h=async n=>{if(n.preventDefault(),!!w()){a(!0);try{const x={productId:r.id,quantity:parseInt(i.quantity),reason:i.reason,notes:i.notes.trim(),date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().split(" ")[0].substring(0,5)};await u(x),f("Product Destroyed",`${i.quantity} ${i.quantity==="1"?"bag":"bags"} of ${r.name} marked as destroyed`),p()}catch(x){console.error("Destroy product error:",x),d("Operation Failed",x.message||"Failed to record destroyed product")}finally{a(!1)}}},S=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n||0),y=parseInt(i.quantity||0)*(r.costPerKg||r.costPerUnit||0)*(r.bagWeight||25);return e.jsx(O,{isOpen:!0,onClose:p,size:"medium",children:e.jsxs("div",{style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"8px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"},children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",style:{borderBottom:"1px solid #404040",backgroundColor:"rgba(239, 68, 68, 0.1)",borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(P,{className:"h-6 w-6 mr-3",style:{color:"#ef4444"}}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:"Destroy/Damage Product"}),e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"2px"},children:"Record damaged or destroyed inventory"})]})]}),e.jsxs("button",{onClick:p,style:{color:"#b3b3b3",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:n=>{n.target.style.color="#ebebeb",n.target.style.backgroundColor="rgba(255, 255, 255, 0.1)"},onMouseLeave:n=>{n.target.style.color="#b3b3b3",n.target.style.backgroundColor="transparent"},children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(F,{className:"h-6 w-6"})]})]}),e.jsxs("form",{onSubmit:h,style:{padding:"24px"},className:"space-y-4",children:[e.jsx("div",{style:{backgroundColor:"#333333",border:"1px solid #404040",borderRadius:"8px",padding:"16px"},children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3"},children:"Product"}),e.jsx("p",{style:{fontWeight:"500",color:"#ebebeb"},children:r.name})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3"},children:"Current Stock"}),e.jsxs("p",{style:{fontWeight:"500",color:"#ebebeb"},children:[r.currentStock," bags"]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"quantity",style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#ebebeb",marginBottom:"4px"},children:"Quantity to Destroy (bags) *"}),e.jsx("input",{type:"number",id:"quantity",value:i.quantity,onChange:n=>c(x=>({...x,quantity:n.target.value})),min:"1",max:r.currentStock,style:{width:"100%",padding:"8px 12px",border:o.quantity?"1px solid #ef4444":"1px solid #404040",borderRadius:"6px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:n=>{n.target.style.borderColor=o.quantity?"#ef4444":"#60a5fa",n.target.style.boxShadow=o.quantity?"0 0 0 3px rgba(239, 68, 68, 0.1)":"0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:n=>{n.target.style.borderColor=o.quantity?"#ef4444":"#404040",n.target.style.boxShadow="none"}}),o.quantity&&e.jsx("p",{style:{marginTop:"4px",fontSize:"14px",color:"#ef4444"},children:o.quantity}),e.jsxs("p",{style:{marginTop:"4px",fontSize:"12px",color:"#b3b3b3"},children:["Remaining stock after destruction: ",r.currentStock-(parseInt(i.quantity)||0)," bags"]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reason",style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#ebebeb",marginBottom:"4px"},children:"Reason for Destruction *"}),e.jsxs("select",{id:"reason",value:i.reason,onChange:n=>c(x=>({...x,reason:n.target.value})),style:{width:"100%",padding:"8px 12px",border:o.reason?"1px solid #ef4444":"1px solid #404040",borderRadius:"6px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:n=>{n.target.style.borderColor=o.reason?"#ef4444":"#60a5fa",n.target.style.boxShadow=o.reason?"0 0 0 3px rgba(239, 68, 68, 0.1)":"0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:n=>{n.target.style.borderColor=o.reason?"#ef4444":"#404040",n.target.style.boxShadow="none"},children:[e.jsx("option",{value:"",children:"Select a reason..."}),k.map(n=>e.jsx("option",{value:n,children:n},n))]}),o.reason&&e.jsx("p",{style:{marginTop:"4px",fontSize:"14px",color:"#ef4444"},children:o.reason})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"notes",style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#ebebeb",marginBottom:"4px"},children:["Additional Details ",i.reason==="Other"&&"*"]}),e.jsx("textarea",{id:"notes",value:i.notes,onChange:n=>c(x=>({...x,notes:n.target.value})),rows:3,style:{width:"100%",padding:"8px 12px",border:o.notes?"1px solid #ef4444":"1px solid #404040",borderRadius:"6px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s",resize:"vertical"},onFocus:n=>{n.target.style.borderColor=o.notes?"#ef4444":"#60a5fa",n.target.style.boxShadow=o.notes?"0 0 0 3px rgba(239, 68, 68, 0.1)":"0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:n=>{n.target.style.borderColor=o.notes?"#ef4444":"#404040",n.target.style.boxShadow="none"},placeholder:"Provide additional details about the damage or destruction..."}),o.notes&&e.jsx("p",{style:{marginTop:"4px",fontSize:"14px",color:"#ef4444"},children:o.notes})]}),y>0&&e.jsxs("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"8px",padding:"16px"},children:[e.jsx("h4",{style:{fontSize:"14px",fontWeight:"500",color:"#ef4444",marginBottom:"8px"},children:"Financial Impact"}),e.jsxs("div",{className:"space-y-1",style:{fontSize:"14px"},children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#ef4444"},children:"Cost per bag:"}),e.jsx("span",{style:{fontWeight:"500",color:"#ef4444"},children:S((r.costPerKg||r.costPerUnit||0)*(r.bagWeight||25))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#ef4444"},children:"Total Loss Value:"}),e.jsx("span",{style:{fontWeight:"600",color:"#ef4444"},children:S(y)})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",style:{paddingTop:"16px",borderTop:"1px solid #404040"},children:[e.jsx("button",{type:"button",onClick:p,disabled:t,style:{padding:"8px 16px",fontSize:"14px",fontWeight:"500",color:"#b3b3b3",backgroundColor:"transparent",border:"1px solid #404040",borderRadius:"6px",cursor:t?"not-allowed":"pointer",opacity:t?.5:1,outline:"none",transition:"all 0.2s"},onMouseEnter:n=>{t||(n.target.style.backgroundColor="rgba(255, 255, 255, 0.05)",n.target.style.borderColor="#60a5fa",n.target.style.color="#ebebeb")},onMouseLeave:n=>{t||(n.target.style.backgroundColor="transparent",n.target.style.borderColor="#404040",n.target.style.color="#b3b3b3")},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:t,style:{padding:"8px 16px",fontSize:"14px",fontWeight:"500",color:"#ffffff",backgroundColor:"#dc2626",border:"1px solid transparent",borderRadius:"6px",cursor:t?"not-allowed":"pointer",opacity:t?.5:1,outline:"none",transition:"all 0.2s"},onMouseEnter:n=>{t||(n.target.style.backgroundColor="#b91c1c")},onMouseLeave:n=>{t||(n.target.style.backgroundColor="#dc2626")},children:t?"Processing...":"Confirm Destruction"})]})]})]})})}function Se(){const{products:r,containers:p,addProduct:u,updateProduct:f,deleteProduct:d}=T(),[i,c]=b.useState(!1),[o,l]=b.useState(null),[t,a]=b.useState(null),[k,w]=b.useState(null),[h,S]=b.useState("list"),[y,n]=b.useState(""),[x,L]=b.useState(""),[m,R]=b.useState(!1),H=[...new Set(r.map(s=>s.category))].filter(Boolean),j=r.filter(s=>{const g=s.name.toLowerCase().includes(y.toLowerCase())||s.description.toLowerCase().includes(y.toLowerCase()),z=!x||s.category===x,v=!m||s.currentStock<=5;return g&&z&&v}),W=r.length,B=r.reduce((s,g)=>{const z=g.costPerKg||g.costPerUnit||0,v=g.bagWeight||25,G=g.currentStock*v;return s+G*z},0),C=r.filter(s=>s.currentStock<=5).length,K=r.reduce((s,g)=>s+(g.currentStock||0),0),$=()=>{l(null),c(!0)},D=s=>{l(s),c(!0)},{showConfirmDialog:Q}=V(),A=async s=>{const g=r.find(v=>v.id===s);await Q("Delete Product",`Are you sure you want to delete "${g?.name}"? This action cannot be undone.`,"danger")&&await d(s)},I=s=>{a(s)},q=s=>{w(s)},_=async s=>{try{o?await f(o.id,s):await u(s),c(!1),l(null)}catch(g){console.error("Form submission error:",g)}},Y=()=>{c(!1),l(null)},X=()=>{n(""),L(""),R(!1)};return e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"sm:max-w-7xl sm:mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#ebebeb"},children:"Products & Inventory"}),e.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"4px"},children:"Manage your product catalog and track inventory levels"})]}),e.jsxs("button",{onClick:$,className:"inline-flex items-center justify-center w-12 h-12 sm:w-auto sm:h-auto sm:px-4 sm:py-2 border border-transparent rounded-lg sm:rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 touch-manipulation",children:[e.jsx(te,{className:"h-6 w-6 sm:h-4 sm:w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Product"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsx(N,{title:"Total Products",value:`${W}`,subtitle:"Active items in catalog",icon:ne,iconBgColor:"bg-blue-100",iconColor:"text-blue-600"}),e.jsx(N,{title:"Total Value",value:`$${B.toLocaleString()}`,subtitle:"Inventory worth",icon:oe,iconBgColor:"bg-green-100",iconColor:"text-green-600"}),e.jsx(N,{title:"Low Stock",value:`${C}`,subtitle:C>0?"Items need restocking":"All items stocked",icon:P,iconBgColor:C>0?"bg-yellow-100":"bg-gray-100",iconColor:C>0?"text-yellow-600":"text-gray-600"}),e.jsx(N,{title:"Bags Available",value:`${K}`,subtitle:"Total bags in stock",icon:M,iconBgColor:"bg-purple-100",iconColor:"text-purple-600"})]}),e.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #404040"},className:"mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:"Filter Products"}),e.jsxs("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"4px"},children:[j.length," product",j.length!==1?"s":""," found"]})]})}),e.jsxs("div",{style:{backgroundColor:"#333333",borderRadius:"8px"},className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[e.jsx("div",{className:"col-span-1 sm:col-span-2 lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"h-5 w-5 absolute left-3 top-1/2 -translate-y-1/2",style:{color:"#808080"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",value:y,onChange:s=>n(s.target.value),placeholder:"Search by name or description...",style:{width:"100%",paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #404040",borderRadius:"6px",fontSize:"14px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:s=>{s.target.style.borderColor="#60a5fa",s.target.style.boxShadow="0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:s=>{s.target.style.borderColor="#404040",s.target.style.boxShadow="none"}})]})}),e.jsx("div",{className:"col-span-1",children:e.jsxs("select",{value:x,onChange:s=>L(s.target.value),style:{width:"100%",padding:"0.5rem 0.75rem",border:"1px solid #404040",borderRadius:"6px",fontSize:"14px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:s=>{s.target.style.borderColor="#60a5fa",s.target.style.boxShadow="0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:s=>{s.target.style.borderColor="#404040",s.target.style.boxShadow="none"},children:[e.jsx("option",{value:"",children:"All Categories"}),H.map(s=>e.jsx("option",{value:s,children:s},s))]})}),e.jsx("div",{className:"col-span-1 flex gap-2",children:e.jsxs("div",{className:"flex rounded-md shadow-sm flex-1",children:[e.jsx("button",{onClick:()=>S("list"),style:{flex:1,padding:"0.5rem 0.75rem",fontSize:"14px",fontWeight:"500",borderTopLeftRadius:"6px",borderBottomLeftRadius:"6px",border:"1px solid #404040",backgroundColor:h==="list"?"rgba(255, 255, 255, 0.1)":"transparent",color:h==="list"?"#60a5fa":"#b3b3b3",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:s=>{h!=="list"&&(s.target.style.backgroundColor="rgba(255, 255, 255, 0.05)")},onMouseLeave:s=>{h!=="list"&&(s.target.style.backgroundColor="transparent")},children:"List"}),e.jsx("button",{onClick:()=>S("grid"),style:{flex:1,padding:"0.5rem 0.75rem",fontSize:"14px",fontWeight:"500",borderTopRightRadius:"6px",borderBottomRightRadius:"6px",borderLeft:"0",border:"1px solid #404040",backgroundColor:h==="grid"?"rgba(255, 255, 255, 0.1)":"transparent",color:h==="grid"?"#60a5fa":"#b3b3b3",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:s=>{h!=="grid"&&(s.target.style.backgroundColor="rgba(255, 255, 255, 0.05)")},onMouseLeave:s=>{h!=="grid"&&(s.target.style.backgroundColor="transparent")},children:"Grid"})]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"0.5rem 0.75rem",fontSize:"14px",backgroundColor:m?"rgba(255, 255, 255, 0.1)":"transparent",border:"1px solid #404040",borderRadius:"6px",color:m?"#60a5fa":"#b3b3b3",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:s=>{m||(s.target.style.backgroundColor="rgba(255, 255, 255, 0.05)")},onMouseLeave:s=>{m||(s.target.style.backgroundColor="transparent")},children:[e.jsx("input",{type:"checkbox",checked:m,onChange:s=>R(s.target.checked),style:{marginRight:"8px",accentColor:"#60a5fa"}}),e.jsx("span",{children:"Low Stock Only"})]})}),(y||x||m)&&e.jsx("button",{onClick:X,style:{padding:"0.5rem 0.75rem",fontSize:"14px",color:"#808080",textDecoration:"underline",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s",marginLeft:"auto"},onMouseEnter:s=>{s.target.style.color="#ebebeb"},onMouseLeave:s=>{s.target.style.color="#808080"},children:"Clear All"})]})]}),e.jsx("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #404040"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{style:{fontSize:"14px",color:"#b3b3b3"},children:["Showing ",j.length," of ",W," products"]}),j.length>0&&e.jsxs("span",{style:{fontSize:"14px",color:"#808080"},children:["Total Value: $",B.toLocaleString()]})]})})]})}),j.length===0?e.jsxs("div",{className:"text-center py-12",style:{backgroundColor:"#2a2a2a",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[e.jsx(M,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium",style:{color:"#ebebeb"},children:"No products found"}),e.jsx("p",{className:"mt-1 text-sm",style:{color:"#b3b3b3"},children:W===0?"No products added.":"Try adjusting your search or filter criteria."})]}):e.jsx(e.Fragment,{children:h==="list"?e.jsx(ie,{products:j,containers:p,onEdit:D,onDelete:A,onViewMovement:I,onDestroy:q}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:j.map(s=>e.jsx(de,{product:s,onEdit:D,onDelete:A,onViewMovement:I,onDestroy:q},s.id))})})]})}),i&&e.jsx(se,{product:o,containers:p,onSubmit:_,onCancel:Y}),t&&e.jsx(ce,{product:t,onClose:()=>a(null)}),k&&e.jsx(xe,{product:k,onClose:()=>w(null)})]})}export{Se as default};
