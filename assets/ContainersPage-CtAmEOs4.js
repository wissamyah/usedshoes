import{c as O,r as u,j as e,X as ae,C as re,P as E,D as H,f as le,u as ie,d as ne,e as ce,E as oe,b as de}from"./index-DPf7JDXQ.js";import{f as v}from"./dateFormatter-DEoQwZ0j.js";import xe from"./ContainerForm-DHJOrimN.js";import{M as me}from"./Modal-CEl-WYAK.js";import{S as p}from"./StatCard-DODbRGRV.js";import{P as R}from"./pencil-DoCvC9bg.js";import{T as X}from"./trending-up-CwnZmgTI.js";import{C as ge}from"./calendar-CQJkPs1p.js";import{F as he}from"./file-text-DjujcPnM.js";import{A as U}from"./archive-B9IzvVIS.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],q=O("map-pin",ue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],_=O("truck",pe);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],je=O("weight",be);function ye({container:t,onClose:P,onEdit:F}){const[$,K]=u.useState("overview"),l=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a||0),d=t.products?.reduce((a,i)=>a+(i.bagQuantity||0),0)||0,m=t.products?.reduce((a,i)=>a+(i.bagQuantity||0)*(i.bagWeight||25),0)||0,b=t.products?.reduce((a,i)=>a+(i.bagQuantity||0)*(i.costPerKg||0)*(i.bagWeight||25),0)||0,j=parseFloat(t.shippingCost)||0,y=parseFloat(t.customsCost)||0,n=b+j+y,N=t.products?.length||0,c=n===0?{status:"Draft",color:"gray",bg:"bg-gray-100"}:t.arrivalDate?{status:"Arrived",color:"green",bg:"bg-green-100"}:t.shippingDate?{status:"In Transit",color:"blue",bg:"bg-blue-100"}:{status:"Ordered",color:"yellow",bg:"bg-yellow-100"},k=[{id:"overview",label:"Overview",icon:re},{id:"products",label:"Products",icon:E},{id:"costs",label:"Costs",icon:H},{id:"timeline",label:"Timeline",icon:le}],f=({tab:a,isActive:i,onClick:w})=>e.jsxs("button",{onClick:()=>w(a.id),className:`flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${i?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsx(a.icon,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:block",children:a.label}),e.jsx("span",{className:"sm:hidden",children:a.label.charAt(0)})]}),S=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Container ",t.id]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${c.bg} text-${c.color}-800`,children:c.status})]}),e.jsxs("p",{className:"text-gray-600 flex items-center",children:[e.jsx(q,{className:"h-4 w-4 mr-1"}),t.supplier]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Investment"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l(n)})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(p,{title:"Products",value:`${N}`,subtitle:"Different items",icon:E,iconBgColor:"bg-blue-100",iconColor:"text-blue-600"}),e.jsx(p,{title:"Total Bags",value:`${d}`,subtitle:"Quantity imported",icon:je,iconBgColor:"bg-green-100",iconColor:"text-green-600"}),e.jsx(p,{title:"Total Weight",value:`${(m/1e3).toFixed(1)}t`,subtitle:`${m.toLocaleString()} kg`,icon:_,iconBgColor:"bg-purple-100",iconColor:"text-purple-600"}),e.jsx(p,{title:"Cost per Kg",value:m>0?l(n/m):"$0",subtitle:"Landed cost",icon:X,iconBgColor:"bg-orange-100",iconColor:"text-orange-600"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Container Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Supplier"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.supplier})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Purchase Date"}),e.jsx("p",{className:"text-gray-900",children:v(t.purchaseDate)})]})]}),e.jsxs("div",{className:"space-y-4",children:[t.invoiceNumber&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Invoice Number"}),e.jsx("p",{className:"text-gray-900 font-mono",children:t.invoiceNumber})]}),t.arrivalDate&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Arrival Date"}),e.jsx("p",{className:"text-gray-900",children:v(t.arrivalDate)})]})]})]}),t.description&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.description})]})]})]}),g=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Products in Container"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[N," products â€¢ ",d," bags"]})]}),t.products&&t.products.length>0?e.jsx("div",{className:"space-y-4",children:t.products.map((a,i)=>{const w=(a.bagQuantity||0)*(a.bagWeight||25),M=(a.bagQuantity||0)*(a.costPerKg||0)*(a.bagWeight||25),V=(a.costPerKg||0)*(a.bagWeight||25)+(d>0?(j+y)/d:0);return e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[e.jsx("h5",{className:"text-xl font-semibold text-gray-900 mb-2 sm:mb-0",children:a.productName}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:l(M)})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium uppercase tracking-wide",children:"Quantity"}),e.jsx("p",{className:"text-lg font-bold text-blue-900",children:a.bagQuantity}),e.jsx("p",{className:"text-xs text-blue-600",children:"bags"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-green-600 font-medium uppercase tracking-wide",children:"Weight"}),e.jsxs("p",{className:"text-lg font-bold text-green-900",children:[w," kg"]}),e.jsxs("p",{className:"text-xs text-green-600",children:[a.bagWeight,"kg/bag"]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-purple-600 font-medium uppercase tracking-wide",children:"Cost/Kg"}),e.jsx("p",{className:"text-lg font-bold text-purple-900",children:l(a.costPerKg)})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-orange-600 font-medium uppercase tracking-wide",children:"Cost/Bag"}),e.jsx("p",{className:"text-lg font-bold text-orange-900",children:l((a.costPerKg||0)*(a.bagWeight||25))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 col-span-2 lg:col-span-1",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium uppercase tracking-wide",children:"Landed/Bag"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:l(V)})]})]})]})})},i)})}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[e.jsx(E,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Products Found"}),e.jsx("p",{className:"text-gray-500",children:"This container doesn't have any products assigned yet."})]})]}),Q=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-100",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cost Summary"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Products Cost"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(b)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(b/n*100).toFixed(1),"% of total"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Shipping & Customs"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(j+y)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[((j+y)/n*100).toFixed(1),"% of total"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Investment"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:l(n)})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Detailed Cost Breakdown"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Products Total"})]}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:l(b)})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Shipping Cost"})]}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:l(j)})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Customs/Clearing Cost"})]}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:l(y)})]}),e.jsxs("div",{className:"flex justify-between items-center py-4 bg-gray-50 -mx-6 px-6 rounded-lg",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total Container Cost"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:l(n)})]})]}),m>0&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-900 mb-4",children:"Unit Cost Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Average Landed Cost per Kg"}),e.jsx("p",{className:"text-xl font-bold text-blue-900",children:l(n/m)})]}),d>0&&e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Average Landed Cost per Bag"}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:l(n/d)})]})]})]})]})]}),D=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Container Timeline"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-200"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-green-100 rounded-full ring-4 ring-white z-10",children:e.jsx(ge,{className:"w-6 h-6 text-green-600"})}),e.jsx("div",{className:"ml-6 min-w-0 flex-1",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:"Container Ordered"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v(t.purchaseDate)}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Container ordered from ",t.supplier,t.invoiceNumber&&` with invoice #${t.invoiceNumber}`]})]})})]}),t.shippingDate&&e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full ring-4 ring-white z-10",children:e.jsx(_,{className:"w-6 h-6 text-blue-600"})}),e.jsx("div",{className:"ml-6 min-w-0 flex-1",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:"Shipping Started"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v(t.shippingDate)}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Container departed and is in transit"})]})})]}),t.arrivalDate&&e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full ring-4 ring-white z-10",children:e.jsx(q,{className:"w-6 h-6 text-purple-600"})}),e.jsx("div",{className:"ml-6 min-w-0 flex-1",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:"Container Arrived"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v(t.arrivalDate)}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Container successfully arrived at destination"})]})})]}),e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{className:`flex items-center justify-center w-16 h-16 ${c.bg} rounded-full ring-4 ring-white z-10`,children:e.jsx(he,{className:`w-6 h-6 text-${c.color}-600`})}),e.jsx("div",{className:"ml-6 min-w-0 flex-1",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:"Current Status"}),e.jsx("p",{className:`text-sm text-${c.color}-600 font-medium mt-1`,children:c.status}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Total investment: ",l(n)," â€¢ ",d," bags â€¢ ",N," products"]})]})})]})]})]})]}),A=()=>{switch($){case"overview":return S();case"products":return g();case"costs":return Q();case"timeline":return D();default:return S()}};return e.jsx(me,{isOpen:!0,onClose:P,size:"large",children:e.jsxs("div",{className:"bg-gray-50 min-h-[80vh] max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Container Details"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.supplier," â€¢ ",v(t.purchaseDate)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:F,className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",title:"Edit container",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),e.jsx("button",{onClick:P,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ae,{className:"h-5 w-5"})})]})]}),e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:e.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:k.map(a=>e.jsx(f,{tab:a,isActive:$===a.id,onClick:K},a.id))})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:A()}),e.jsxs("div",{className:"bg-white border-t border-gray-200 px-6 py-4 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsx("button",{onClick:P,className:"w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),e.jsx("button",{onClick:F,className:"w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Edit Container"})]})]})})}function $e(){const{containers:t,products:P,addContainer:F,updateContainer:$,deleteContainer:K,error:l,setError:d}=ie(),{showSuccessMessage:m,showErrorMessage:b,showConfirmDialog:j}=ne(),[y,n]=u.useState(!1),[N,C]=u.useState(null),[c,k]=u.useState(null),[f,S]=u.useState(""),[g,Q]=u.useState("purchaseDate"),[D,A]=u.useState("desc");u.useEffect(()=>{l&&(b("Operation Failed",l),d(null))},[l,b,d]);const a=t.filter(s=>s.id.toLowerCase().includes(f.toLowerCase())||s.supplier.toLowerCase().includes(f.toLowerCase())||s.invoiceNumber?.toLowerCase().includes(f.toLowerCase())).sort((s,r)=>{let o=s[g],x=r[g];return g==="purchaseDate"?(o=new Date(o),x=new Date(x)):g==="totalCost"&&(o=parseFloat(o)||0,x=parseFloat(x)||0),D==="asc"?o>x?1:-1:o<x?1:-1}),i=t.length,w=t.reduce((s,r)=>s+(parseFloat(r.totalCost)||0),0),M=t.reduce((s,r)=>s+(r.products?.length||0),0),V=i>0?w/i:0,Z=s=>{const r=s.products||[],o=r.length,x=r.reduce((T,h)=>T+(h.bagQuantity||0),0),W=r.reduce((T,h)=>T+(h.bagQuantity||0)*(h.bagWeight||25),0),te=r.reduce((T,h)=>T+(h.bagQuantity||0)*(h.costPerKg||0)*(h.bagWeight||25),0)+(parseFloat(s.shippingCost)||0)+(parseFloat(s.customsCost)||0);return{productCount:o,totalStock:x,totalKg:W,totalValue:te}},G=()=>{C(null),n(!0)},z=s=>{C(s),n(!0)},J=async s=>{const r=t.find(W=>W.id===s),o=r?`${r.id} (${r.supplier})`:s;await j(`Delete Container ${o}`,"Are you sure you want to delete this container? This will revert ALL stock that was added from this container. This action cannot be undone and may affect your inventory levels.","danger")&&K(s),m("Container Deleted",`Container ${o} has been deleted and stock has been reverted.`)},Y=s=>{k(s)},ee=async s=>{try{N?await $(N.id,s):await F(s),n(!1),C(null)}catch(r){console.error("Form submission error:",r)}},se=()=>{n(!1),C(null)},B=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s||0),L=s=>{g===s?A(D==="asc"?"desc":"asc"):(Q(s),A("desc"))},I=s=>g!==s?null:e.jsx("svg",{className:`w-4 h-4 ml-1 ${D==="asc"?"transform rotate-180":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"sm:max-w-7xl sm:mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Container Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track and manage your import containers and their contents"})]}),e.jsxs("button",{onClick:G,className:"inline-flex items-center justify-center w-12 h-12 sm:w-auto sm:h-auto sm:px-4 sm:py-2 border border-transparent rounded-lg sm:rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 touch-manipulation",children:[e.jsx(ce,{className:"h-6 w-6 sm:h-4 sm:w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Container"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsx(p,{title:"Total Containers",value:`${i}`,subtitle:"Import shipments",icon:U,iconBgColor:"bg-blue-100",iconColor:"text-blue-600"}),e.jsx(p,{title:"Total Investment",value:B(w),subtitle:"Container costs",icon:H,iconBgColor:"bg-green-100",iconColor:"text-green-600"}),e.jsx(p,{title:"Total Products",value:`${M}`,subtitle:"Items imported",icon:E,iconBgColor:"bg-purple-100",iconColor:"text-purple-600"}),e.jsx(p,{title:"Avg Container Value",value:B(V),subtitle:"Per container",icon:X,iconBgColor:"bg-orange-100",iconColor:"text-orange-600"})]}),e.jsx("div",{className:"bg-white shadow rounded-lg mb-6",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 max-w-lg",children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Containers"}),e.jsx("input",{type:"text",id:"search",value:f,onChange:s=>S(s.target.value),placeholder:"Search by ID, supplier, or invoice number...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["Showing ",a.length," of ",i," containers"]}),f&&e.jsx("button",{onClick:()=>S(""),className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear search"})]})]})})}),a.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx(U,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No containers found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i===0?"No containers added.":"Try adjusting your search criteria."})]}):e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>L("id"),children:e.jsxs("div",{className:"flex items-center",children:["Container ID",I("id")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>L("supplier"),children:e.jsxs("div",{className:"flex items-center",children:["Supplier",I("supplier")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>L("purchaseDate"),children:e.jsxs("div",{className:"flex items-center",children:["Purchase Date",I("purchaseDate")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Products"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>L("totalCost"),children:e.jsxs("div",{className:"flex items-center",children:["Total Cost",I("totalCost")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(s=>{const r=Z(s);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.id}),s.invoiceNumber&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Invoice: ",s.invoiceNumber]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.supplier}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v(s.purchaseDate)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[r.productCount," ",r.productCount===1?"product":"products"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[r.totalStock," bags (",r.totalKg,"kg)"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:B(s.totalCost)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B(r.totalValue)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Y(s),className:"text-green-600 hover:text-green-900 p-1 rounded-md hover:bg-green-50",title:"View details",children:e.jsx(oe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>z(s),className:"text-blue-600 hover:text-blue-900 p-1 rounded-md hover:bg-blue-50",title:"Edit container",children:e.jsx(R,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>J(s.id),className:"text-red-600 hover:text-red-900 p-1 rounded-md hover:bg-red-50",title:"Delete container",children:e.jsx(de,{className:"h-4 w-4"})})]})})]},s.id)})})]})})})]})}),y&&e.jsx(xe,{container:N,onSubmit:ee,onCancel:se}),c&&e.jsx(ye,{container:c,onClose:()=>k(null),onEdit:()=>{k(null),z(c)}})]})}export{$e as default};
