import{r as c,j as e,X as f}from"./index-CRV_J7le.js";import{a as S}from"./validation-C6xYq1B_.js";import{M as k}from"./Modal-DUAX2eHt.js";function P({product:a,containers:w,onSubmit:h,onCancel:b}){const[t,p]=c.useState({name:"",category:"Shoes",currentStock:"",costPerKg:"",bagWeight:"25",description:""}),[r,g]=c.useState({}),[s,x]=c.useState(!1),m=["Shoes","Belts","Bags"];c.useEffect(()=>{a&&p({name:a.name||"",category:a.category||"Shoes",currentStock:a.currentStock?.toString()||"",costPerKg:a.costPerKg?.toString()||a.costPerUnit?.toString()||"",bagWeight:a.bagWeight?.toString()||"25",description:a.description||""})},[a]);const l=o=>{const{name:n,value:i}=o.target;p(d=>({...d,[n]:i})),r[n]&&g(d=>({...d,[n]:""}))},y=async o=>{o.preventDefault();const n=S(t);if(!n.isValid){g(n.errors);return}x(!0);try{const i={...t,currentStock:parseFloat(t.currentStock)||0,costPerKg:parseFloat(t.costPerKg)||0,bagWeight:parseFloat(t.bagWeight)||25,costPerUnit:parseFloat(t.costPerKg)||0};await h(i)}catch(i){console.error("Form submission error:",i)}finally{x(!1)}},u=()=>{b()};return e.jsx(k,{isOpen:!0,onClose:b,size:"large",children:e.jsxs("div",{className:"rounded-lg shadow-xl w-full max-h-[90vh] overflow-y-auto",style:{backgroundColor:"#2a2a2a",border:"1px solid #404040",scrollbarWidth:"thin",scrollbarColor:"#404040 #2a2a2a"},children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
            .rounded-lg.shadow-xl::-webkit-scrollbar {
              width: 8px;
            }
            .rounded-lg.shadow-xl::-webkit-scrollbar-track {
              background: #2a2a2a;
            }
            .rounded-lg.shadow-xl::-webkit-scrollbar-thumb {
              background: #404040;
              border-radius: 4px;
            }
            .rounded-lg.shadow-xl::-webkit-scrollbar-thumb:hover {
              background: #505050;
            }
          `}}),e.jsx("div",{className:"sticky top-0 rounded-t-lg px-4 sm:px-6 py-4",style:{backgroundColor:"#2a2a2a",borderBottom:"1px solid #404040"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"500",color:"#ebebeb"},children:a?"Edit Product":"Add New Product"}),e.jsxs("button",{onClick:u,style:{color:"#b3b3b3",padding:"4px",borderRadius:"6px",minHeight:"44px",minWidth:"44px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:o=>{o.target.style.color="#ebebeb",o.target.style.backgroundColor="rgba(255, 255, 255, 0.1)"},onMouseLeave:o=>{o.target.style.color="#b3b3b3",o.target.style.backgroundColor="transparent"},children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(f,{className:"h-6 w-6"})]})]})}),e.jsx("div",{className:"px-4 sm:px-6 py-6",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"name",style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#ebebeb",marginBottom:"4px"},children:"Product Name *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:l,style:{marginTop:"4px",display:"block",width:"100%",border:r.name?"1px solid #ef4444":"1px solid #404040",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",padding:"12px",fontSize:"16px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:o=>{o.target.style.borderColor=r.name?"#ef4444":"#60a5fa",o.target.style.boxShadow=r.name?"0 0 0 3px rgba(239, 68, 68, 0.1)":"0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:o=>{o.target.style.borderColor=r.name?"#ef4444":"#404040",o.target.style.boxShadow="0 1px 2px rgba(0, 0, 0, 0.05)"},placeholder:"Product name"}),r.name&&e.jsx("p",{style:{marginTop:"4px",fontSize:"14px",color:"#ef4444"},children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#ebebeb",marginBottom:"4px"},children:"Category *"}),e.jsx("select",{id:"category",name:"category",value:t.category,onChange:l,style:{marginTop:"4px",display:"block",width:"100%",border:r.category?"1px solid #ef4444":"1px solid #404040",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",padding:"12px",fontSize:"16px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:o=>{o.target.style.borderColor=r.category?"#ef4444":"#60a5fa",o.target.style.boxShadow=r.category?"0 0 0 3px rgba(239, 68, 68, 0.1)":"0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:o=>{o.target.style.borderColor=r.category?"#ef4444":"#404040",o.target.style.boxShadow="0 1px 2px rgba(0, 0, 0, 0.05)"},children:m.map(o=>e.jsx("option",{value:o,children:o},o))}),r.category&&e.jsx("p",{style:{marginTop:"4px",fontSize:"14px",color:"#ef4444"},children:r.category})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"currentStock",style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#ebebeb",marginBottom:"4px"},children:"Current Stock (bags) *"}),e.jsx("input",{type:"number",id:"currentStock",name:"currentStock",value:t.currentStock,onChange:l,min:"0",step:"1",style:{marginTop:"4px",display:"block",width:"100%",border:r.currentStock?"1px solid #ef4444":"1px solid #404040",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",padding:"12px",fontSize:"16px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:o=>{o.target.style.borderColor=r.currentStock?"#ef4444":"#60a5fa",o.target.style.boxShadow=r.currentStock?"0 0 0 3px rgba(239, 68, 68, 0.1)":"0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:o=>{o.target.style.borderColor=r.currentStock?"#ef4444":"#404040",o.target.style.boxShadow="0 1px 2px rgba(0, 0, 0, 0.05)"},placeholder:"0"}),r.currentStock&&e.jsx("p",{style:{marginTop:"4px",fontSize:"14px",color:"#ef4444"},children:r.currentStock}),e.jsx("p",{style:{marginTop:"4px",fontSize:"14px",color:"#b3b3b3"},children:"Number of bags in stock"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"costPerKg",style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#ebebeb",marginBottom:"4px"},children:"Cost Per Kg ($) *"}),e.jsx("input",{type:"number",id:"costPerKg",name:"costPerKg",value:t.costPerKg,onChange:l,min:"0",step:"0.01",style:{marginTop:"4px",display:"block",width:"100%",border:r.costPerKg?"1px solid #ef4444":"1px solid #404040",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",padding:"12px",fontSize:"16px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:o=>{o.target.style.borderColor=r.costPerKg?"#ef4444":"#60a5fa",o.target.style.boxShadow=r.costPerKg?"0 0 0 3px rgba(239, 68, 68, 0.1)":"0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:o=>{o.target.style.borderColor=r.costPerKg?"#ef4444":"#404040",o.target.style.boxShadow="0 1px 2px rgba(0, 0, 0, 0.05)"},placeholder:"0.00"}),r.costPerKg&&e.jsx("p",{style:{marginTop:"4px",fontSize:"14px",color:"#ef4444"},children:r.costPerKg}),e.jsx("p",{style:{marginTop:"4px",fontSize:"14px",color:"#b3b3b3"},children:"Purchase cost per kilogram"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bagWeight",style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#ebebeb",marginBottom:"4px"},children:"Bag Weight (kg) *"}),e.jsxs("select",{id:"bagWeight",name:"bagWeight",value:t.bagWeight,onChange:l,style:{marginTop:"4px",display:"block",width:"100%",border:"1px solid #404040",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",padding:"12px",fontSize:"16px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:o=>{o.target.style.borderColor="#60a5fa",o.target.style.boxShadow="0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:o=>{o.target.style.borderColor="#404040",o.target.style.boxShadow="0 1px 2px rgba(0, 0, 0, 0.05)"},children:[e.jsx("option",{value:"20",children:"20 kg per bag"}),e.jsx("option",{value:"25",children:"25 kg per bag"})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"description",style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#ebebeb",marginBottom:"4px"},children:"Description"}),e.jsx("textarea",{id:"description",name:"description",rows:3,value:t.description,onChange:l,style:{marginTop:"4px",display:"block",width:"100%",border:"1px solid #404040",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",padding:"12px",fontSize:"16px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s",resize:"vertical"},onFocus:o=>{o.target.style.borderColor="#60a5fa",o.target.style.boxShadow="0 0 0 3px rgba(96, 165, 250, 0.1)"},onBlur:o=>{o.target.style.borderColor="#404040",o.target.style.boxShadow="0 1px 2px rgba(0, 0, 0, 0.05)"},placeholder:"Description..."})]})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end space-y-reverse space-y-3 sm:space-y-0 sm:space-x-3",style:{paddingTop:"24px",borderTop:"1px solid #404040"},children:[e.jsx("button",{type:"button",onClick:u,disabled:s,style:{padding:"8px 16px",fontSize:"14px",fontWeight:"500",color:"#b3b3b3",backgroundColor:"transparent",border:"1px solid #404040",borderRadius:"6px",cursor:s?"not-allowed":"pointer",opacity:s?.5:1,transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:o=>{s||(o.target.style.backgroundColor="rgba(255, 255, 255, 0.05)",o.target.style.borderColor="#60a5fa",o.target.style.color="#ebebeb")},onMouseLeave:o=>{s||(o.target.style.backgroundColor="transparent",o.target.style.borderColor="#404040",o.target.style.color="#b3b3b3")},className:"w-full sm:w-auto",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:s,style:{padding:"8px 16px",fontSize:"14px",fontWeight:"500",color:"#ffffff",backgroundColor:"#2563eb",border:"1px solid transparent",borderRadius:"6px",cursor:s?"not-allowed":"pointer",opacity:s?.5:1,transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:o=>{s||(o.target.style.backgroundColor="#1d4ed8")},onMouseLeave:o=>{s||(o.target.style.backgroundColor="#2563eb")},className:"w-full sm:w-auto",children:s?"Saving...":a?"Update Product":"Add Product"})]})]})})]})})}export{P as default};
