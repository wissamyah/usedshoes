import{c as O,u as $,d as G,r as x,j as t,b as J,e as K,R as ee,D as te}from"./index-CdxIgPjh.js";import oe from"./ExpenseForm-MwIBu6JX.js";import{f as re}from"./dateFormatter-DEoQwZ0j.js";import{F as se,C as ne}from"./funnel-Dswihu9D.js";import{S as le}from"./search-D97IfOU1.js";import{P as ae}from"./pencil-DXnbGNqu.js";import{C as ie,a as de,b as ce}from"./chevrons-right-BtoqfC48.js";import{S as T}from"./StatCard-BhZV6bel.js";import{C as pe}from"./chart-pie-DjJgaIw6.js";import"./Modal-78m2ctuU.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],xe=O("credit-card",be);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],ue=O("file-x",ge);function he({onEditExpense:C}){const{expenses:E,deleteExpense:k}=$(),{showSuccessMessage:D,showErrorMessage:z,showConfirmDialog:W}=G(),[p,S]=x.useState(""),[y,m]=x.useState(""),[g,a]=x.useState(""),[u,h]=x.useState(""),[M,B]=x.useState("date"),[v,f]=x.useState("desc"),[o,s]=x.useState(1),[i,L]=x.useState(10),U=[...new Set(E.map(e=>e.category))].sort(),j=E.filter(e=>{const r=!p||e.description?.toLowerCase().includes(p.toLowerCase())||e.notes?.toLowerCase().includes(p.toLowerCase())||e.containerId?.toLowerCase().includes(p.toLowerCase()),l=!y||e.category===y,c=!g||e.date>=g,d=!u||e.date<=u;return r&&l&&c&&d}).sort((e,r)=>{let l,c;switch(M){case"amount":l=e.amount||0,c=r.amount||0;break;case"category":l=e.category||"",c=r.category||"";break;case"date":default:l=new Date(e.date),c=new Date(r.date);break}return v==="desc"?c>l?1:-1:l>c?1:-1}),w=j.length,n=Math.ceil(w/i),N=(o-1)*i,A=N+i,F=j.slice(N,A),_=()=>{const r=[],l=[];let c;for(let d=1;d<=n;d++)(d===1||d===n||d>=o-2&&d<=o+2)&&r.push(d);return r.forEach(d=>{c&&(d-c===2?l.push(c+1):d-c!==1&&l.push("...")),l.push(d),c=d}),l},b=e=>{e>=1&&e<=n&&(s(e),window.scrollTo({top:0,behavior:"smooth"}))},P=e=>{L(Number(e)),s(1)},q=async e=>{if(await W("Delete Expense",`Are you sure you want to delete this ${e.category} expense for ${R(e.amount)}?`))try{await k(e.id),D("Expense Deleted","Expense has been deleted successfully")}catch(l){console.error("Delete expense error:",l),z("Delete Failed",l.message||"Failed to delete expense")}},R=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0),H=j.reduce((e,r)=>e+(r.amount||0),0),V=F.reduce((e,r)=>e+(r.amount||0),0),I=new Date().toISOString().split("T")[0],Y=new Date().toISOString().substring(0,7),X=new Date(new Date().getFullYear(),new Date().getMonth()-1,1).toISOString().split("T")[0],Q=new Date(new Date().getFullYear(),new Date().getMonth(),0).toISOString().split("T")[0],Z=e=>{switch(s(1),e){case"today":a(I),h(I);break;case"thisMonth":a(Y+"-01"),h(I);break;case"lastMonth":a(X),h(Q);break;case"clear":a(""),h("");break}};return t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"500",color:"#ebebeb"},children:"Expense History"}),t.jsxs("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"4px"},children:[j.length," expense",j.length!==1?"s":""," • ",R(H)," total"]}),n>1&&t.jsxs("p",{style:{fontSize:"12px",color:"#808080",marginTop:"4px"},children:["Page ",o,": ",F.length," expense",F.length!==1?"s":""," • ",R(V)]})]})}),t.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"12px",border:"1px solid #404040",marginBottom:"24px",overflow:"hidden"},children:[t.jsx("div",{style:{padding:"16px 20px",borderBottom:"1px solid #404040",backgroundColor:"#333333"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(se,{style:{height:"18px",width:"18px",color:"#3b82f6"}}),t.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#ebebeb",margin:0},children:"Filter Expenses"})]}),(p||y||g||u)&&t.jsx("button",{onClick:()=>{S(""),m(""),a(""),h(""),s(1)},style:{padding:"6px 12px",fontSize:"12px",fontWeight:"500",color:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="rgba(239, 68, 68, 0.2)",e.target.style.borderColor="rgba(239, 68, 68, 0.5)"},onMouseLeave:e=>{e.target.style.backgroundColor="rgba(239, 68, 68, 0.1)",e.target.style.borderColor="rgba(239, 68, 68, 0.3)"},children:"Clear All"})]})}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#b3b3b3",marginBottom:"6px"},children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(le,{style:{height:"18px",width:"18px",position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#808080"}}),t.jsx("input",{type:"text",placeholder:"Search by description, notes, or container ID...",value:p,onChange:e=>{S(e.target.value),s(1)},style:{width:"100%",paddingLeft:"2.75rem",paddingRight:"12px",paddingTop:"12px",paddingBottom:"12px",border:"1px solid #404040",borderRadius:"8px",backgroundColor:"#1c1c1c",color:"#ebebeb",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>{e.target.style.borderColor="#3b82f6",e.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.target.style.borderColor="#404040",e.target.style.boxShadow="none"}})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#b3b3b3",marginBottom:"6px"},children:"Category"}),t.jsxs("select",{value:y,onChange:e=>{m(e.target.value),s(1)},style:{width:"100%",padding:"12px",fontSize:"14px",border:"1px solid #404040",borderRadius:"8px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"all 0.2s"},onFocus:e=>{e.target.style.borderColor="#3b82f6",e.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.target.style.borderColor="#404040",e.target.style.boxShadow="none"},children:[t.jsx("option",{value:"",children:"All Categories"}),U.map(e=>t.jsx("option",{value:e,children:e},e))]})]})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#b3b3b3",marginBottom:"8px"},children:"Date Range"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#808080",marginBottom:"4px"},children:"From Date"}),t.jsx("input",{type:"date",value:g,onChange:e=>{a(e.target.value),s(1)},style:{width:"100%",padding:"12px",fontSize:"14px",border:"1px solid #404040",borderRadius:"8px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"all 0.2s"},onFocus:e=>{e.target.style.borderColor="#3b82f6",e.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.target.style.borderColor="#404040",e.target.style.boxShadow="none"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#808080",marginBottom:"4px"},children:"To Date"}),t.jsx("input",{type:"date",value:u,onChange:e=>{h(e.target.value),s(1)},style:{width:"100%",padding:"12px",fontSize:"14px",border:"1px solid #404040",borderRadius:"8px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"all 0.2s"},onFocus:e=>{e.target.style.borderColor="#3b82f6",e.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.target.style.borderColor="#404040",e.target.style.boxShadow="none"}})]})]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[{label:"Today",value:"today"},{label:"This Month",value:"thisMonth"},{label:"Last Month",value:"lastMonth"},{label:"Clear Dates",value:"clear"}].map(e=>t.jsx("button",{onClick:()=>Z(e.value),style:{padding:"8px 12px",fontSize:"13px",fontWeight:"500",backgroundColor:e.value==="clear"?"rgba(107, 114, 128, 0.1)":"rgba(59, 130, 246, 0.1)",border:`1px solid ${e.value==="clear"?"rgba(107, 114, 128, 0.3)":"rgba(59, 130, 246, 0.3)"}`,color:e.value==="clear"?"#9ca3af":"#60a5fa",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",textAlign:"center"},onMouseEnter:r=>{e.value==="clear"?(r.target.style.backgroundColor="rgba(107, 114, 128, 0.2)",r.target.style.borderColor="rgba(107, 114, 128, 0.5)"):(r.target.style.backgroundColor="rgba(59, 130, 246, 0.2)",r.target.style.borderColor="rgba(59, 130, 246, 0.5)")},onMouseLeave:r=>{e.value==="clear"?(r.target.style.backgroundColor="rgba(107, 114, 128, 0.1)",r.target.style.borderColor="rgba(107, 114, 128, 0.3)"):(r.target.style.backgroundColor="rgba(59, 130, 246, 0.1)",r.target.style.borderColor="rgba(59, 130, 246, 0.3)")},children:e.label},e.value))})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#b3b3b3",marginBottom:"6px"},children:"Sort By"}),t.jsxs("select",{value:M,onChange:e=>B(e.target.value),style:{width:"100%",padding:"12px",fontSize:"14px",border:"1px solid #404040",borderRadius:"8px",backgroundColor:"#1c1c1c",color:"#ebebeb",outline:"none",transition:"all 0.2s"},onFocus:e=>{e.target.style.borderColor="#3b82f6",e.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.target.style.borderColor="#404040",e.target.style.boxShadow="none"},children:[t.jsx("option",{value:"date",children:"Date"}),t.jsx("option",{value:"amount",children:"Amount"}),t.jsx("option",{value:"category",children:"Category"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#b3b3b3",marginBottom:"6px"},children:"Sort Order"}),t.jsxs("button",{onClick:()=>f(v==="desc"?"asc":"desc"),style:{width:"100%",padding:"12px",border:"1px solid #404040",borderRadius:"8px",backgroundColor:"#1c1c1c",color:"#ebebeb",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",outline:"none",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:e=>{e.target.style.backgroundColor="#333333",e.target.style.borderColor="#3b82f6"},onMouseLeave:e=>{e.target.style.backgroundColor="#1c1c1c",e.target.style.borderColor="#404040"},onFocus:e=>{e.target.style.borderColor="#3b82f6",e.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.target.style.borderColor="#404040",e.target.style.boxShadow="none"},children:[t.jsx("span",{children:v==="desc"?"Newest First":"Oldest First"}),t.jsx("span",{style:{fontSize:"16px"},children:v==="desc"?"↓":"↑"})]})]})]})]})]}),j.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{overflowX:"auto",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",border:"1px solid #404040",borderBottom:0},children:t.jsxs("table",{style:{minWidth:"100%",borderCollapse:"separate",borderSpacing:0},children:[t.jsx("thead",{style:{backgroundColor:"#333333"},children:t.jsxs("tr",{children:[t.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Date"}),t.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Category"}),t.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Description"}),t.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Amount"}),t.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Container"}),t.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#b3b3b3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),t.jsx("tbody",{style:{backgroundColor:"#2a2a2a"},children:F.map(e=>t.jsxs("tr",{style:{transition:"background-color 0.2s"},onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#333333"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent"},children:[t.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",color:"#ebebeb"},children:re(e.date)}),t.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:t.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 10px",borderRadius:"9999px",fontSize:"12px",fontWeight:"500",backgroundColor:"rgba(96, 165, 250, 0.1)",color:"#60a5fa"},children:e.category})}),t.jsxs("td",{style:{padding:"16px 24px"},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#ebebeb"},children:e.description}),e.notes&&t.jsx("div",{style:{fontSize:"14px",color:"#b3b3b3",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"20rem"},title:e.notes,children:e.notes})]}),t.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"500",color:"#ebebeb"},children:R(e.amount)}),t.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",color:"#b3b3b3"},children:e.containerId||"—"}),t.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"500"},children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>C(e),style:{color:"#3b82f6",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:r=>{r.target.style.backgroundColor="rgba(59, 130, 246, 0.1)",r.target.style.color="#2563eb"},onMouseLeave:r=>{r.target.style.backgroundColor="transparent",r.target.style.color="#3b82f6"},title:"Edit expense",children:t.jsx(ae,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>q(e),style:{color:"#ef4444",padding:"4px",borderRadius:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:r=>{r.target.style.backgroundColor="rgba(239, 68, 68, 0.1)",r.target.style.color="#dc2626"},onMouseLeave:r=>{r.target.style.backgroundColor="transparent",r.target.style.color="#ef4444"},title:"Delete expense",children:t.jsx(J,{className:"h-4 w-4"})})]})})]},e.id))})]})}),n>1&&t.jsxs("div",{style:{backgroundColor:"#1c1c1c",padding:"12px 16px",borderTop:"1px solid #404040",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px"},children:[t.jsxs("div",{className:"sm:hidden",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{style:{fontSize:"14px",color:"#ebebeb"},children:["Page ",o," of ",n]}),t.jsxs("select",{value:i,onChange:e=>P(e.target.value),style:{padding:"4px 8px",fontSize:"14px",border:"1px solid #404040",borderRadius:"4px",backgroundColor:"#2a2a2a",color:"#ebebeb"},children:[t.jsx("option",{value:"10",children:"10/page"}),t.jsx("option",{value:"25",children:"25/page"}),t.jsx("option",{value:"50",children:"50/page"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("button",{onClick:()=>b(o-1),disabled:o===1,style:{padding:"8px 12px",fontSize:"14px",fontWeight:"500",color:o===1?"#808080":"#ebebeb",backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"6px",opacity:o===1?.5:1,cursor:o===1?"not-allowed":"pointer"},children:"Previous"}),t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("button",{onClick:()=>b(1),style:{padding:"4px 8px",fontSize:"14px",borderRadius:"4px",backgroundColor:o===1?"#3b82f6":"transparent",color:o===1?"white":"#ebebeb",border:"none",cursor:"pointer"},children:"1"}),o>3&&t.jsx("span",{style:{padding:"4px",color:"#b3b3b3"},children:"..."}),o>2&&o<n-1&&t.jsx("button",{onClick:()=>b(o),style:{padding:"4px 8px",fontSize:"14px",backgroundColor:"#3b82f6",color:"white",borderRadius:"4px",border:"none",cursor:"pointer"},children:o}),o<n-2&&t.jsx("span",{style:{padding:"4px",color:"#b3b3b3"},children:"..."}),n>1&&t.jsx("button",{onClick:()=>b(n),style:{padding:"4px 8px",fontSize:"14px",borderRadius:"4px",backgroundColor:o===n?"#3b82f6":"transparent",color:o===n?"white":"#ebebeb",border:"none",cursor:"pointer"},children:n})]}),t.jsx("button",{onClick:()=>b(o+1),disabled:o===n,style:{padding:"8px 12px",fontSize:"14px",fontWeight:"500",color:o===n?"#808080":"#ebebeb",backgroundColor:"#2a2a2a",border:"1px solid #404040",borderRadius:"6px",opacity:o===n?.5:1,cursor:o===n?"not-allowed":"pointer"},children:"Next"})]}),t.jsxs("div",{style:{textAlign:"center",fontSize:"12px",color:"#b3b3b3",marginTop:"8px"},children:[N+1,"-",Math.min(A,w)," of ",w]})]}),t.jsxs("div",{className:"hidden sm:flex sm:justify-between sm:items-center",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("label",{style:{fontSize:"14px",color:"#ebebeb"},children:"Show:"}),t.jsxs("select",{value:i,onChange:e=>P(e.target.value),style:{padding:"4px 8px",fontSize:"14px",border:"1px solid #404040",borderRadius:"4px",backgroundColor:"#2a2a2a",color:"#ebebeb",outline:"none"},onFocus:e=>{e.target.style.borderColor="#3b82f6",e.target.style.boxShadow="0 0 0 2px rgba(59, 130, 246, 0.2)"},onBlur:e=>{e.target.style.borderColor="#404040",e.target.style.boxShadow="none"},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"}),t.jsxs("option",{value:j.length,children:["All (",j.length,")"]})]}),t.jsx("span",{style:{fontSize:"14px",color:"#ebebeb"},children:"per page"})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("button",{onClick:()=>b(1),disabled:o===1,style:{padding:"6px",borderRadius:"4px",backgroundColor:"transparent",border:"none",opacity:o===1?.5:1,cursor:o===1?"not-allowed":"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>{o!==1&&(e.target.style.backgroundColor="#333333")},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},title:"First page",children:t.jsx(ie,{style:{height:"16px",width:"16px",color:"#b3b3b3"}})}),t.jsx("button",{onClick:()=>b(o-1),disabled:o===1,style:{padding:"6px",borderRadius:"4px",backgroundColor:"transparent",border:"none",opacity:o===1?.5:1,cursor:o===1?"not-allowed":"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>{o!==1&&(e.target.style.backgroundColor="#333333")},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},title:"Previous page",children:t.jsx(de,{style:{height:"16px",width:"16px",color:"#b3b3b3"}})}),t.jsx("div",{className:"flex items-center space-x-1 mx-2",children:_().map((e,r)=>e==="..."?t.jsx("span",{style:{padding:"8px",fontSize:"14px",color:"#b3b3b3"},children:"..."},`dots-${r}`):t.jsx("button",{onClick:()=>b(e),style:{padding:"8px 12px",fontSize:"14px",borderRadius:"4px",backgroundColor:o===e?"#3b82f6":"transparent",color:o===e?"white":"#ebebeb",border:"none",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:l=>{o!==e&&(l.target.style.backgroundColor="#333333")},onMouseLeave:l=>{o!==e&&(l.target.style.backgroundColor="transparent")},children:e},e))}),t.jsx("button",{onClick:()=>b(o+1),disabled:o===n,style:{padding:"6px",borderRadius:"4px",backgroundColor:"transparent",border:"none",opacity:o===n?.5:1,cursor:o===n?"not-allowed":"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>{o!==n&&(e.target.style.backgroundColor="#333333")},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},title:"Next page",children:t.jsx(ne,{style:{height:"16px",width:"16px",color:"#b3b3b3"}})}),t.jsx("button",{onClick:()=>b(n),disabled:o===n,style:{padding:"6px",borderRadius:"4px",backgroundColor:"transparent",border:"none",opacity:o===n?.5:1,cursor:o===n?"not-allowed":"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>{o!==n&&(e.target.style.backgroundColor="#333333")},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},title:"Last page",children:t.jsx(ce,{style:{height:"16px",width:"16px",color:"#b3b3b3"}})})]}),t.jsxs("div",{style:{fontSize:"14px",color:"#ebebeb"},children:["Showing ",N+1," to ",Math.min(A,w)," of ",w," expense",w!==1?"s":""]})]})]})]}):t.jsxs("div",{style:{textAlign:"center",padding:"48px 0"},children:[t.jsx(ue,{style:{margin:"0 auto 16px",height:"48px",width:"48px",color:"#808080"}}),t.jsx("h3",{style:{fontSize:"18px",fontWeight:"500",color:"#ebebeb",marginBottom:"8px"},children:"No Expenses Found"}),t.jsx("p",{style:{color:"#b3b3b3",marginBottom:"16px"},children:p||y||g||u?"No expenses match your current filters.":"No expenses recorded."}),(p||y||g||u)&&t.jsx("button",{onClick:()=>{S(""),m(""),a(""),h("")},style:{color:"#3b82f6",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:e=>{e.target.style.color="#2563eb"},onMouseLeave:e=>{e.target.style.color="#3b82f6"},children:"Clear filters"})]})]})}function Ee(){const{expenses:C}=$(),[E,k]=x.useState(!1),[D,z]=x.useState(null),W=new Date().toISOString().split("T")[0],p=C.filter(o=>o.date&&o.date===W),S=p.reduce((o,s)=>{const i=typeof s.amount=="number"?s.amount:parseFloat(s.amount)||0;return o+i},0),y=new Date().toISOString().substring(0,7),m=C.filter(o=>o.date&&o.date.startsWith(y)),g=m.reduce((o,s)=>{const i=typeof s.amount=="number"?s.amount:parseFloat(s.amount)||0;return o+i},0),a=m.reduce((o,s)=>{const i=s.category||"Miscellaneous",L=typeof s.amount=="number"?s.amount:parseFloat(s.amount)||0;return o[i]=(o[i]||0)+L,o},{}),u=Object.keys(a).length>0?Object.entries(a).sort(([,o],[,s])=>s-o)[0]:["No expenses",0],h=C.reduce((o,s)=>{const i=typeof s.amount=="number"?s.amount:parseFloat(s.amount)||0;return o+i},0),M=()=>{z(null),k(!0)},B=o=>{z(o),k(!0)},v=()=>{k(!1),z(null)},f=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o||0);return t.jsxs("div",{className:"py-6 sm:p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#ebebeb"},children:"Expense Management"}),t.jsx("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"4px"},children:"Track business expenses and monitor spending by category"})]}),t.jsxs("button",{onClick:M,className:"inline-flex items-center justify-center w-12 h-12 sm:w-auto sm:h-auto sm:px-4 sm:py-2 bg-blue-600 text-white text-sm font-medium rounded-lg sm:rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 touch-manipulation",children:[t.jsx(K,{className:"h-6 w-6 sm:h-4 sm:w-4 sm:mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Add Expense"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[t.jsx(T,{title:"Today's Expenses",value:f(S||0),subtitle:`${p.length||0} transaction${p.length!==1?"s":""}`,icon:xe,iconBgColor:"bg-red-100",iconColor:"text-red-600",trend:S>0?"up":null}),t.jsx(T,{title:"Monthly Expenses",value:f(g||0),subtitle:`${m.length||0} transaction${m.length!==1?"s":""}`,icon:ee,iconBgColor:"bg-orange-100",iconColor:"text-orange-600"}),t.jsx(T,{title:"Top Category",value:f(u[1]||0),subtitle:u[0]||"No expenses",icon:pe,iconBgColor:"bg-purple-100",iconColor:"text-purple-600"}),t.jsx(T,{title:"Total Expenses",value:f(h||0),subtitle:`${C.length||0} all time`,icon:te,iconBgColor:"",iconColor:""})]}),Object.keys(a).length>0&&t.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #404040"},className:"mb-8",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#ebebeb"},children:"This Month by Category"}),t.jsxs("p",{style:{fontSize:"14px",color:"#b3b3b3",marginTop:"4px"},children:[Object.keys(a).length," categor",Object.keys(a).length!==1?"ies":"y"," • ",f(g)]})]})}),t.jsx("div",{style:{backgroundColor:"#333333",borderRadius:"8px"},className:"p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(a).sort(([,o],[,s])=>s-o).map(([o,s])=>t.jsxs("div",{className:"flex justify-between items-center p-3 rounded-md",style:{border:"1px solid #404040"},children:[t.jsx("span",{className:"font-medium",style:{color:"#ebebeb"},children:o}),t.jsx("span",{className:"text-lg font-bold",style:{color:"#ebebeb"},children:f(s)})]},o))})})]})}),t.jsx("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #404040"},children:t.jsx(he,{onEditExpense:B})}),E&&t.jsx(oe,{expense:D,onClose:v})]})}export{Ee as default};
